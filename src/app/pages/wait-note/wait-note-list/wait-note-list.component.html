<div class="row">
    <div class="col-md-3">
        <div class="sidebar-bg">
            <div class="mb-3">
                <label>Tìm theo bệnh nhân</label>
                <div class="{{type == 1 ? 'input-group' : ''}}">
                    <input class="form-control"/>
                    <span *ngIf="type == 1" class="input-group-btn">
                        <button class="btn btn-primary" (click)="customerID = 0" data-toggle="modal"
                        data-target="#customer-add-edit-dialog"><i class="fa-regular fa-plus"></i></button>
                    </span>
                </div>
            </div>
            <div ng-show="phoneCus != null || addressesCus != null|| jobCus != null || receiverSearchItem.Name != null" class="mb-3">
                <p class="font-small">Số điện thoại : 0945123122</p>
                <p class="font-small">Tuổi: 20</p>
                <p class="font-small">Địa chỉ: Nam Định</p>
                <p class="font-small">Nghề nghiệp: Kỹ sư phần mềm</p>
                <div class="d-flex align-items-center gap-10">
                    <button class="btn btn-primary flex-grow-1" ng-click="onSpecifyService(filterModel.CustomerId)" title="Chỉ định">Chỉ định</button>
                    <button class="btn btn-primary flex-grow-1" ng-click="onHistoryMedical(filterModel.CustomerId)" title="Lịch sử khám chữa bệnh">LS khám</button>
                    <button class="btn btn-primary flex-grow-1" ng-click="updateCustomer(receiverSearchItem)" title="Sửa thông tin bệnh nhân">Sửa</button>
                </div>
            </div>
            <div class="mb-3">
                <label>Trạng thái</label>
                <select class="form-control mb-0" ng-model="filterModel.statusExa" ng-change="onStatusChange()">
                    <option value="-1" selected>--Mặc định--</option>
                    <option value="0">Chờ khám</option>
                    <option value="1">Đang khám</option>
                    <option value="2">Đã khám</option>
                    <option value="3">Hủy</option>
                    <option value="4">Điều trị theo liệu trình</option>
                </select>
            </div>
            <div *ngIf="type == 2" class="mb-3">
                <label>Trạng thái thanh toán</label>
                <select class="form-control" ng-model="filterModel.statusPayment" ng-change="onStatusPaymentChange()">
                    <option value="0" selected>Tất cả</option>
                    <option value="1">Đã thanh toán</option>
                    <option value="2">Chưa thanh toán</option>
                </select>
            </div>
            <div class="input-daterange input-group ng-scope mb-3" id="datepicker">
                <div class="input-group">
                    <input type="text" class="form-control ng-untouched ng-valid ng-dirty ng-valid-parse" name="from" id="reportFromDate" placeholder="Từ ngày.." ng-model="reportFromDate">
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-primary" ng-click="onFromDateClick(); $event.preventDefault(); $event.stopPropagation();"><i class="fa-regular fa-calendar-days"></i></button>
                    </span>
                </div>
                <div class="input-group">
                    <input type="text" class="form-control ng-untouched ng-valid ng-dirty ng-valid-parse" name="to" id="reportToDate" placeholder="Đến ngày.." ng-model="reportToDate">
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-primary" ng-click="onToDateClick(); $event.preventDefault(); $event.stopPropagation();"><i class="fa-regular fa-calendar-days"></i></button>
                    </span>
                </div>
            </div>
            <input type="button" value="Xem" id="btnDisplayDataByDateRange" name="btnDisplayDataByDateRange" class="btn btn-primary w-100" ng-click="onDisplayData(true); $event.preventDefault(); $event.stopPropagation();">
            <span *ngIf="type == 1" type="button" class="btn btn-primary mt-3 w-100" ng-if="permittedFields.WaitNote_Create_And_Write" (click)="waitNoteID = 0" data-toggle="modal"
            data-target="#wait-note-add-edit-dialog">Thêm phiếu chờ khám</span>
        </div>
    </div>

    <div class="col-md-9">
        <div class="baocao-container box-group-white">
            <h2 class="mb-3 d-block text-center"><b>{{title}}</b></h2>
            <table class="table table-striped table-bordered table-hover tr-ng-grid">
                <thead>
                    <tr>
                        <th display-name="STT">
                            <div class="tr-ng-column-header tr-ng-cell">
                                <div>
                                    <div class="tr-ng-title"> STT </div>
                                </div>
                            </div>
                        </th>
                        <th *ngIf="statusExam != 4" display-name="Ngày tiếp nhận">
                            <div class="tr-ng-column-header tr-ng-cell">
                                <div>
                                    <div class="tr-ng-title"> Ngày tiếp nhận
                                        <div class="tr-ng-sort" title="Sort">
                                            <div
                                                class="tr-ng-sort-inactive text-muted glyphicon glyphicon-chevron-down">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </th>
                        <th *ngIf="statusExam != 4" display-name="Số phiếu chờ">
                            <div class="tr-ng-column-header tr-ng-cell">
                                <div>
                                    <div class="tr-ng-title"> Số phiếu chờ
                                        <div class="tr-ng-sort" title="Sort">
                                            <div
                                                class="tr-ng-sort-inactive text-muted glyphicon glyphicon-chevron-down">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </th>
                        <th *ngIf="statusExam != 4" display-name="Số phiếu khám">
                            <div class="tr-ng-column-header tr-ng-cell">
                                <div>
                                    <div class="tr-ng-title"> Số phiếu khám
                                        <div class="tr-ng-sort" title="Sort">
                                            <div
                                                class="tr-ng-sort-inactive text-muted glyphicon glyphicon-chevron-down">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </th>
                        <th display-name="Bệnh nhân">
                            <div class="tr-ng-column-header tr-ng-cell">
                                <div>
                                    <div class="tr-ng-title"> Bệnh nhân
                                        <div class="tr-ng-sort" title="Sort">
                                            <div
                                                class="tr-ng-sort-inactive text-muted glyphicon glyphicon-chevron-down">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </th>
                        <th display-name="Tuổi">
                            <div class="tr-ng-column-header tr-ng-cell">
                                <div>
                                    <div class="tr-ng-title"> Tuổi
                                        <div class="tr-ng-sort" title="Sort">
                                            <div
                                                class="tr-ng-sort-inactive text-muted glyphicon glyphicon-chevron-down">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </th>
                        <th display-name="Giới tính">
                            <div class="tr-ng-column-header tr-ng-cell">
                                <div>
                                    <div class="tr-ng-title"> Giới tính
                                        <div class="tr-ng-sort" title="Sort">
                                            <div
                                                class="tr-ng-sort-inactive text-muted glyphicon glyphicon-chevron-down">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </th>
                        <th display-name="Địa chỉ">
                            <div class="tr-ng-column-header tr-ng-cell">
                                <div>
                                    <div class="tr-ng-title"> Địa chỉ
                                        <div class="tr-ng-sort" title="Sort">
                                            <div
                                                class="tr-ng-sort-inactive text-muted glyphicon glyphicon-chevron-down">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </th>
                        <th display-name="Số điện thoại">
                            <div class="tr-ng-column-header tr-ng-cell">
                                <div>
                                    <div class="tr-ng-title"> Số điện thoại
                                        <div class="tr-ng-sort" title="Sort">
                                            <div
                                                class="tr-ng-sort-inactive text-muted glyphicon glyphicon-chevron-down">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </th>
                        <th *ngIf="statusExam != 4" display-name="Người tiếp nhận">
                            <div class="tr-ng-column-header tr-ng-cell">
                                <div>
                                    <div class="tr-ng-title"> Người tiếp nhận
                                    </div>
                                </div>
                            </div>
                        </th>
                        <th *ngIf="statusExam != 4" display-name="Lý do khám">
                            <div class="tr-ng-column-header tr-ng-cell">
                                <div>
                                    <div class="tr-ng-title"> Lý do khám
                                    </div>
                                </div>
                            </div>
                        </th>
                        <th *ngIf="type == 2" display-name="Bác sỹ">
                            <div class="tr-ng-column-header tr-ng-cell">
                                <div>
                                    <div class="tr-ng-title"> Bác sỹ
                                    </div>
                                </div>
                            </div>
                        </th>
                        <th *ngIf="statusExam != 4" display-name="Trạng thái">
                            <div class="tr-ng-column-header tr-ng-cell">
                                <div>
                                    <div class="tr-ng-title"> Trạng thái
                                    </div>
                                </div>
                            </div>
                        </th>
                        <th *ngIf="statusExam != 4 && type == 2" display-name="Trạng thái">
                            <div class="tr-ng-column-header tr-ng-cell">
                                <div>
                                    <div class="tr-ng-title"> Thanh toán
                                    </div>
                                </div>
                            </div>
                        </th>
                        <th *ngIf="statusExam == 4" display-name="Dịch vụ">
                            <div class="tr-ng-column-header tr-ng-cell">
                                <div>
                                    <div class="tr-ng-title"> Dịch vụ
                                    </div>
                                </div>
                            </div>
                        </th>
                        <th *ngIf="statusExam == 4" display-name="Số buổi">
                            <div class="tr-ng-column-header tr-ng-cell">
                                <div>
                                    <div class="tr-ng-title"> Số buổi
                                    </div>
                                </div>
                            </div>
                        </th>
                        <th *ngIf="statusExam == 4" display-name="Số tiền">
                            <div class="tr-ng-column-header tr-ng-cell">
                                <div>
                                    <div class="tr-ng-title"> Số tiền
                                    </div>
                                </div>
                            </div>
                        </th>
                        <th *ngIf="statusExam == 4" display-name="Số buổi sử dụng">
                            <div class="tr-ng-column-header tr-ng-cell">
                                <div>
                                    <div class="tr-ng-title"> Số buổi sử dụng
                                    </div>
                                </div>
                            </div>
                        </th>
                        <th *ngIf="statusExam == 4" display-name="Số buổi còn lại">
                            <div class="tr-ng-column-header tr-ng-cell">
                                <div>
                                    <div class="tr-ng-title"> Số buổi còn lại
                                    </div>
                                </div>
                            </div>
                        </th>
                        <th display-name="Thao tác">
                            <div class="tr-ng-column-header tr-ng-cell">
                                <div>
                                    <div class="tr-ng-title"> Thao tác
                                    </div>
                                </div>
                            </div>
                        </th>
                    </tr>
                </thead>

                <tbody>
                    <tr>
                        <td>
                            <div>1</div>
                        </td>
                        <td *ngIf="statusExam != 4">
                            <div>21/03/2024</div>
                        </td>
                        <td *ngIf="statusExam != 4">
                            <div>0</div>
                        </td>
                        <td *ngIf="statusExam != 4">
                            <div>165</div>
                        </td>
                        <td>
                            <div>vũ thị hồng - 1973</div>
                        </td>
                        <td>
                            <div>51</div>
                        </td>
                        <td>
                            <div>Nữ</div>
                        </td>
                        <td>
                            <div>Thượng Điện - Vinh Quang</div>
                        </td>
                        <td>
                            <div>098478501</div>
                        </td>
                        <td *ngIf="statusExam != 4">
                            <div>Thu</div>
                        </td>
                        <td *ngIf="statusExam != 4">
                            <div>Lý do</div>
                        </td>
                        <td *ngIf="type == 2">
                            <div>Bác sỹ Tỉnh</div>
                        </td>
                        <td *ngIf="statusExam != 4">
                            <div>Đang khám</div>
                        </td>
                        <td *ngIf="statusExam != 4 && type == 2">
                            <div>Đã thanh toán</div>
                        </td>
                        <td>
                            <div ng-show="filterModel.statusExa != 4">
                                <div ng-show="!filterModel.IsDeleted" class="baocao-actions flex-wrap">
                                    <span class="flex-grow-1" ng-show="gridItem.StatusExam != 0 && gridItem.StatusExam != 3" ng-if="permittedFields.NoteMedical_Read"><a class="btn btn-sm btn-primary" href="">Phiếu khám</a></span>
                                    <span class="flex-grow-1" ng-show="gridItem.StatusExam == 0" ng-if="permittedFields.NoteMedical_Create_And_Write"><a class="btn btn-sm btn-primary" href="">Khám bệnh</a></span>
                                    <span class="flex-grow-1" ng-if="permittedFields.WaitNote_Create_And_Write">
                                        <a href="#" class="btn btn-sm btn-default" data-toggle="modal" data-target="#model-add-receive" ng-click="onUpdateNoteWaitDialog(gridItem)">Phiếu chờ</a>
                                    </span>
                                    <span class="flex-grow-1" ng-show="gridItem.StatusExam == 0 && type ==1" ng-if="permittedFields.WaitNote_Create_And_Write">
                                        <a href="#" class="btn btn-sm btn-primary" data-toggle="modal" data-target="#model-add-receive" ng-click="onUpdateNoteWaitDialog(gridItem)"><i class="fa-regular fa-pen-to-square"></i></a>
                                    </span>
                                    <span class="flex-grow-1" ng-show="(gridItem.StatusExam != 3 && type == 1) || (gridItem.StatusExam == 1 && type == 2)" ng-if="permittedFields.WaitNote_Print">
                                        <a href="" class="btn btn-sm btn-default" ng-click="onPrint(gridItem)">In</a>
                                    </span>
                                    <span class="flex-grow-1" ng-if="permittedFields.WaitNote_Delete_And_Cancel">
                                        <a href="#" class="btn btn-sm btn-danger" ng-click="onDelete(gridItem,0)"><i class="fa-regular fa-trash"></i></a>
                                    </span>
                                    <span class="flex-grow-1" ng-show="gridItem.StatusExam == 0" ng-if="permittedFields.WaitNote_Delete_And_Cancel">
                                        <a href="#" class="btn btn-sm btn-danger" ng-click="onDelete(gridItem,1)">Hủy</a>
                                    </span>
                                    <span class="flex-grow-1" ng-if="permittedFields.NoteMedical_Read">
                                        <a href="#" class="btn btn-sm btn-primary" ng-click="onHistoryMedical(gridItem.Customer.CusId)" title="Lịch sử khám chữa bệnh">LS</a>
                                    </span>
                                </div>
                                <div ng-show="filterModel.IsDeleted">
                                    <span ng-if="permittedFields.DeliveryNote_Restore">
                                        <a href="#" class="btn btn-sm btn-primary" ng-click="onRestore(gridItem)"><i class="fa-regular fa-arrow-rotate-left"></i></a>
                                    </span>
                                    <span ng-if="permittedFields.WaitNote_Delete_And_Cancel">
                                        <a href="#" class="btn btn-sm btn-danger" ng-click="onDeleteForever(gridItem)"><i class="fa-regular fa-trash"></i></a>
                                    </span>
                                </div>
                            </div>
                            
                            <div ng-show="filterModel.statusExa == 4" ng-if="permittedFields.NoteService_Create_And_Write">
                                <button class="btn btn-sm btn-link" ng-disabled="onNotSpecify" ng-click="onSpecifyService(gridItem.Customer.CusId)">Chỉ định</button>
                            </div>
                        </td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr id="footerId">
                        <td align="center" is-customized="true" colspan="13">
                            <div class="tr-ng-grid-footer form-inline">
                                <div>
                                    <div>
                                        <span class="form-group pull-left page-size">
                                            <select id="ddlPageSize" class="form-control">
                                                <option label="10" value="number:10" selected="selected">10</option>
                                                <option label="20" value="number:20">20</option>
                                                <option label="50" value="number:50">50</option>
                                                <option label="100" value="number:100">100</option>
                                                <option label="--All--" value="number:9000">--All--</option>
                                            </select>
                                            <span class="page-size-label">&nbsp;&nbsp;Dòng / Trang</span>
                                        </span>
                                        <span class="pull-right form-group" style="height:40px">
                                            <ul class="pagination">
                                                <li class="disabled">
                                                    <a href="javascript:void(0);" title="Trang đầu"> <span>«</span> </a>
                                                </li>
                                                <li class="disabled">
                                                    <a href="javascript:void(0);" title="Trang trước"> <span>‹</span>
                                                    </a>
                                                </li>
                                                <li class="active">
                                                    <a href="javascript:void(0);" title="Trang">1</a>
                                                </li>
                                                <li>
                                                    <a href="javascript:void(0);" title="Trang">2</a>
                                                </li>
                                                <li>
                                                    <a href="javascript:void(0);" title="Trang">3</a>
                                                </li>
                                                <li>
                                                    <a href="javascript:void(0);" title="Trang">4</a>
                                                </li>
                                                <li>
                                                    <a href="javascript:void(0);" title="Trang">5</a>
                                                </li>
                                                <li>
                                                    <a href="javascript:void(0);" title="Trang">6</a>
                                                </li>
                                                <li>
                                                    <a href="javascript:void(0);" title="Trang">7</a>
                                                </li>
                                                <li>
                                                    <a href="javascript:void(0);" title="Trang">8</a>
                                                </li>
                                                <li>
                                                    <a href="javascript:void(0);" title="Trang">9</a>
                                                </li>
                                                <li>
                                                    <a href="javascript:void(0);" title="Trang">10</a>
                                                <li class="disabled"><span>...</span>
                                                <li>
                                                    <a href="javascript:void(0);" title="Trang tiếp"> <span>›</span>
                                                    </a>
                                                </li>
                                                <li>
                                                    <a href="javascript:void(0);" title="Trang cuối"> <span>»</span>
                                                    </a>
                                                </li>
                                                <li class="disabled" style="white-space: nowrap;">
                                                    <span class="ng-hide">Không có dữ liệu</span>
                                                    <span> Tổng: 3182 bản ghi </span>
                                                </li>
                                            </ul>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tfoot>
            </table>

            <!-- model.length <= 0 -->
            <div>
                <p class="text-danger text-center mt-3">Không tìm thấy phiếu nào</p>
            </div>
        </div>
    </div>
</div>