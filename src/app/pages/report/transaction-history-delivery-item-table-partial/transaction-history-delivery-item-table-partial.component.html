<div>
    <div class="ibox-content">
        <table class="table table-striped table-responsive table-bordered table-hover tr-ng-grid">
            <thead>
                <tr>
                    <th display-name="STT">STT</th>
                    <th field-name="ItemDate" display-name="Ngày" enable-sorting="true">Ngày</th>
                    <th field-name="ItemNumber" display-name="Số phiếu" enable-sorting="true">
                        <span>Số phiếu</span>
                    </th>
                    <th field-name="CusName" display-name="Khách hàng" ng-if="!ReportDetailsByGoods">Khách hàng</th>
                    <th field-name="ItemTypeName" display-name="Loại phiếu" enable-sorting="true">
                        <span>Loại phiếu</span>
                    </th>
                    <th field-name="CustomerId" display-name="Khách hàng" enable-sorting="true" ng-if="ReportDetailsByGoods">
                        <span>Khách hàng</span>
                    </th>
                    <th field-name="DrugName" display-name="Tên Thuốc" enable-sorting="true">Tên thuốc</th>
                    <th field-name="DrugStoreId" display-name="Nhà Thuốc" enable-sorting="true" ng-if="ReportDetailsByGoods">Nhà thuốc</th>
                    <th display-name="Đơn Vị">
                        <span>Đơn vị</span>
                    </th>
                    <th field-name="Quantity" display-name="Số lượng" enable-sorting="true">
                        <span>Số lượng 
                            <!-- {{RetailUnitName}} -->hộp
                        </span>
                        <p class="number-value">Σ = 
                            <!-- {{sumQuantity()}} -->1
                        </p>
                    </th>
                    <th field-name="Price" display-name="Đơn giá" enable-sorting="true">
                        <span>Đơn giá</span>
                    </th>
                    <th field-name="Discount" display-name="C.K" enable-sorting="true">C.K</th>
                    <th field-name="VAT" display-name="VAT" enable-sorting="true">VAT</th>
                    <th display-name="Lô/Hạn">Lô/Hạn</th>
                    <th display-name="Số đăng ký" style="width:100px;">
                        <span>Số đăng ký</span>
                    </th>
                    <th field-name="Amount" display-name="Thành tiền" enable-sorting="true">
                        <span>Thành tiền</span>
                        <p class="number-value">Σ = 
                            <!-- {{sumAmount() | number:0}} -->1.000
                        </p>
                    </th>
                    <th field-name="Revenue" display-name="Lợi nhuận" enable-sorting="true" ng-if="ReportDetailsByGoods">
                        <span>Lợi nhuận</span>
                        <p class="number-value">Σ = 
                            <!-- {{sumRevenues() | number:0}} -->1.000
                        </p>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr class="text-left">
                    <!--STT-->
                    <td>
                        <div>
                            <!-- {{gridItem.Order}} -->1
                        </div>
                    </td>

                    <!--Ngày-->
                    <td field-name="ItemDate">
                        <div>
                            <!-- {{gridItem.ItemDate |appDateTime}} -->1/1/2024
                        </div>
                    </td>

                    <!--Số phiếu-->
                    <td field-name="ItemNumber">
                        <div>
                            <a ng-click="showDetailNote(gridItem)" href="" target="_blank">
                                <!-- {{gridItem.ItemNumber}} -->1
                            </a>
                        </div>
                    </td>
                    <!--Khách hàng-->
                    <td field-name="CusName" ng-if="!ReportDetailsByGoods">
                        <div>
                            <!-- {{gridItem.CustomerName}} -->KH A
                        </div>
                    </td>
                    <!--Loại phiếu-->
                    <td field-name="ItemTypeName">
                        <div>
                            <!-- {{gridItem.ItemTypeName}} -->Xuất bán
                        </div>
                    </td>

                    <!--Khách hàng-->
                    <td field-name="CustomerId" ng-if="ReportDetailsByGoods">
                        <div>
                            <!-- {{gridItem.CustomerName}} -->KH A
                        </div>
                    </td>

                    <!--Tên Thuốc-->
                    <td field-name="DrugName">
                        <div>
                            <a href="" ng-click="onDrugInfoDetails(gridItem.ItemId); $event.preventDefault(); $event.stopPropagation();">
                                <!-- {{gridItem.DrugName}} --> Thuốc 1
                            </a>
                        </div>
                    </td>

                    <!--Nhà Thuốc-->
                    <td field-name="DrugStoreId" ng-if="ReportDetailsByGoods">
                        <div>
                            <!-- {{gridItem.DrugStoreName}} -->Nhà thuốc A
                        </div>
                    </td>

                    <!--Đơn Vị-->
                    <td>
                        <div>
                            <!-- {{gridItem.ItemUnitName}} -->Hộp
                        </div>
                    </td>

                    <!--Số lượng-->
                    <td field-name="Quantity">
                        <div class="number-value">
                            <!-- {{gridItem.Quantity}} -->1
                        </div>
                    </td>

                    <!--Đơn giá-->
                    <td field-name="Price">
                        <div class="number-value" ng-if="gridItem.ItemTypeID == @((int)ENoteType.Delivery)">
                            <!-- {{gridItem.Price | number:0}} -->1.000
                        </div>
                        <div ng-if="gridItem.ItemTypeID ==  @((int)ENoteType.ReturnToSupplier) ||gridItem.ItemTypeID == @((int)ENoteType.InventoryAdjustment)">
                            <div class="number-value" ng-if="HasViewInputPricePrivilage">
                                <!-- {{gridItem.Price | number:0}} -->1.000
                            </div>
                            <div class="number-value" ng-if="!HasViewInputPricePrivilage">
                                ***
                            </div>
                        </div>
                    </td>
                    <!--Chiết khấu-->
                    <td field-name="Discount">
                        <div class="number-value">
                            <!-- {{gridItem.Discount | number:0}} -->1.000
                        </div>
                    </td>
                    <!--VAT-->
                    <td field-name="VAT">
                        <div class="number-value">
                            <!-- {{gridItem.VAT | number:0}} -->1.000
                        </div>
                    </td>
                    <!--Số lô/ Hạn dùng-->
                    <td>
                        <div>
                            <!-- {{gridItem.BatchNumber}} -->1234
                            <br />
                            <!-- {{gridItem.ExpiredDate| appDate}} -->1/1/2025
                        </div>
                    </td>
                    <td>
                        <div>
                            <!-- {{gridItem.RegisteredNo}} -->VD-123
                        </div>
                    </td>
                    <!--Thành tiền-->
                    <td field-name="Amount">
                        <div class="number-value" ng-if="gridItem.ItemTypeID != @((int)ENoteType.ReturnToSupplier)">
                            <!-- {{gridItem.Amount | number:0}} -->1.000
                        </div>
                        <div ng-if="gridItem.ItemTypeID ==  @((int)ENoteType.ReturnToSupplier)">
                            <div class="number-value" ng-if="HasViewInputPricePrivilage">
                                <!-- {{gridItem.Amount | number:0}} -->1.000
                            </div>
                            <div class="number-value" ng-if="!HasViewInputPricePrivilage">
                                ***
                            </div>
                        </div>
                    </td>
                    <!--Lợi nhuận-->
                    <td field-name="Revenue" ng-if="ReportDetailsByGoods">
                        <div class="number-value">
                            <!-- {{gridItem.Revenue | number:0}} -->1.000
                        </div>
                    </td>
                </tr>
            </tbody>
            <tfoot>
                <tr id="footerId">
                    <td align="center"
                        class="ng-scope" colspan="17">
                        <div class="tr-ng-grid-footer form-inline">
                            <div ng-switch-when="true" class="ng-scope">
                                <div ng-transclude=""><span class="form-group pull-left page-size ng-scope">
                                        <select id="ddlPageSize"
                                            class="form-control ng-pristine ng-untouched ng-valid"
                                            ng-model="model.pageSize"
                                            ng-options="item.pageSizeKey as item.pageSizeValue for item in pageSizeList"
                                            ng-change="changePageSize()">
                                            <option label="10" value="number:10" selected="selected">10</option>
                                            <option label="20" value="number:20">20</option>
                                            <option label="50" value="number:50">50</option>
                                            <option label="100" value="number:100">100</option>
                                            <option label="--All--" value="number:9000">--All--</option>
                                        </select>
                                        <span class="page-size-label">&nbsp;&nbsp;Dòng / Trang</span>
                                    </span><span class="pull-right form-group" tr-ng-grid-pager=""
                                        style="height:40px;">
                                        <ul class="pagination">
                                            <li class="ng-scope active">
                                                <a href="" ng-click="navigateToPage(pageIndex)"
                                                    ng-if="pageIndex!==null"
                                                    class="ng-binding ng-scope" title="Trang">1</a>
                                                </li>
                                                <li ng-if="pageSelectionActive" class="ng-scope"><a href=""
                                                        class="ng-binding ng-scope" title="Trang">2</a> </li>
                                                <li class="disabled" style="white-space: nowrap;"> <span
                                                        ng-hide="totalItemsCount || !displayTotalItemsCount"
                                                        class="ng-binding ng-hide">Không có dữ liệu</span> <span
                                                        ng-show="totalItemsCount &amp;&amp; displayTotalItemsCount"
                                                        class=""> <span class="ng-binding">Tổng: 2 bản ghi</span>
                                                    </span> 
                                                </li>
                                            </ul>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tfoot>
        </table>
    </div>
    <div elem-ready="isReady()"></div>
</div>
