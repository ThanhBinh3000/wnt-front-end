<div class="card">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" (click)="closeModal()"><span>&times;</span></button>
            <h4 class="modal-title">{{supplierID > 0 ? 'Cập nhật nhà cung cấp' : 'Thêm mới nhà cung cấp'}}
            </h4>
        </div>
        <div class="modal-body">
            <form [formGroup]="formData">
                <div *ngIf="isMinimized">
                    <div class="form-group">
                        <div class="row">
                            <label class="col-sm-4 control-label">Tên nhà cung cấp<span
                                    class="text-danger">*</span></label>
                            <div class="col-sm-8">
                                <input formControlName="tenNhaCungCap" class="form-control mb-0 text-left" type="text" />
                                <span class="text-danger field-validation-error"
                                    *ngIf="formData.get('tenNhaCungCap')?.invalid && formData.get('tenNhaCungCap')?.touched">
                                    Chưa nhập tên nhà cung cấp!
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <label class="col-sm-4 control-label">Số điện thoại</label>
                            <div class="col-sm-8">
                                <input formControlName="soDienThoai" class="form-control mb-0 text-left" type="text" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <label class="col-sm-4 control-label">Địa chỉ</label>
                            <div class="col-sm-8">
                                <input formControlName="diaChi" class="form-control mb-0 text-left" type="text" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <label class="col-sm-4 control-label">Mã số thuế</label>
                            <div class="col-sm-8">
                                <input formControlName="maSoThue" class="form-control mb-0 text-left" type="text" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <label class="col-sm-4 control-label">Mã vạch</label>
                            <div class="col-sm-8">
                                <div class="input-group">
                                    <input class="form-control mb-0" style="text-align:left" type="text"
                                        formControlName="barcode" />
                                    <div class="input-group-btn">
                                        <button class="btn btn-primary" title="Sinh mã vạch tự động"
                                            ng-click="genBarCode(); $event.preventDefault(); $event.stopPropagation();"><i
                                                class="fa-regular fa-barcode-read"></i></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div *ngIf="!isMinimized">
                    <div class="form-group">
                        <div class="row">
                            <label class="col-sm-4 control-label">Mã nhà cung cấp</label>
                            <div class="col-sm-8">
                                <input formControlName="code" class="form-control mb-0 text-left" type="text" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <label class="col-sm-4 control-label">Tên nhà cung cấp<span
                                    class="text-danger">*</span></label>
                            <div class="col-sm-8">
                                <input formControlName="tenNhaCungCap" class="form-control mb-0 text-left" type="text" />
                                <span class="text-danger field-validation-error"
                                    *ngIf="formData.get('tenNhaCungCap')?.invalid && formData.get('tenNhaCungCap')?.touched">
                                    Chưa nhập tên nhà cung cấp!
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <label class="col-sm-4 control-label">Địa chỉ</label>
                            <div class="col-sm-8">
                                <input formControlName="diaChi" class="form-control mb-0 text-left" type="text" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <label class="col-sm-4 control-label">Số điện thoại</label>
                            <div class="col-sm-8">
                                <input formControlName="soDienThoai" class="form-control mb-0 text-left" type="text" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <label class="col-sm-4 control-label">Nợ đầu kỳ</label>
                            <div class="col-sm-8">
                                <input formControlName="noDauKy" class="form-control mb-0 text-left" type="text" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <label class="col-sm-4 control-label">Mã vạch</label>
                            <div class="col-sm-8">
                                <div class="input-group">
                                    <input class="form-control mb-0" style="text-align:left" type="text"
                                        formControlName="barcode" />
                                    <div class="input-group-btn">
                                        <button class="btn btn-primary" title="Sinh mã vạch tự động"
                                            ng-click="genBarCode(); $event.preventDefault(); $event.stopPropagation();"><i
                                                class="fa-regular fa-barcode-read"></i></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <label class="col-sm-4 control-label">Nhóm nhà cung cấp <span
                                    class="text-danger">*</span></label>
                            <div class="col-sm-8">
                                <ng-select appendTo="body" formControlName="maNhomNhaCungCap" appearance="outline"
                                    [items]="listNhomNhaCungCap" bindLabel="tenNhomNhaCungCap" bindValue="id"
                                    placeholder="Tra cứu theo tên..." notFoundText="Không tìm thấy mục nào">
                                    <ng-template ng-option-tmp let-item="item" let-index="index"
                                        let-search="searchTerm">
                                        <span [ngOptionHighlight]="search">{{item.tenNhomNhaCungCap}}</span>
                                    </ng-template>
                                </ng-select>
                                <span class="text-danger field-validation-error"
                                    *ngIf="formData.get('maNhomNhaCungCap')?.invalid && formData.get('maNhomNhaCungCap')?.touched">
                                    Chưa chọn nhóm nhà cung cấp!
                                </span>
                            </div>
                        </div>
                    </div>
                    <p>Thêm <span style="cursor: pointer" (click)="expandForm()">{{expandLabel}}</span></p>
                    <div *ngIf="showMoreForm">
                        <div class="form-group">
                            <div class="row">
                                <label class="col-sm-4 control-label">Email</label>
                                    <div class="col-sm-8">
                                        <input formControlName="email" class="form-control mb-0 text-left"
                                            type="text" />
                                        <span class="text-danger field-validation-error"
                                            *ngIf="formData.get('email')?.errors?.['email'] && formData.get('email')?.touched">
                                            Email không đúng định dạng!
                                        </span>
                                    </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <label class="col-sm-4 control-label">Số Fax</label>
                                <div class="col-sm-8">
                                    <input formControlName="soFax" class="form-control mb-0 text-left" type="text" />
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <label class="col-sm-4 control-label">Website</label>
                                <div class="col-sm-8">
                                    <input formControlName="website" class="form-control mb-0 text-left" type="text" />
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <label class="col-sm-4 control-label">Mã số thuế</label>
                                <div class="col-sm-8">
                                    <input formControlName="maSoThue" class="form-control mb-0 text-left" type="text" />
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <label class="col-sm-4 control-label">Người liên hệ</label>
                                <div class="col-sm-8">
                                    <input formControlName="nguoiLienHe" class="form-control mb-0 text-left" type="text" />
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <label class="col-sm-4 control-label">Người đại diện</label>
                                <div class="col-sm-8">
                                    <input formControlName="nguoiDaiDien" class="form-control mb-0 text-left" type="text" />
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <label class="col-sm-4 control-label">Địa bàn hoạt động</label>
                                <div class="col-sm-8">
                                    <input formControlName="diaBanHoatDong" class="form-control mb-0 text-left" type="text" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
            
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" (click)="closeModal()">Đóng</button>
            <button type="button" class="btn btn-primary" (click)="saveEdit()">{{supplierID > 0 ? 'Cập nhật' : 'Thêm mới'}}</button>
        </div>
    </div>
</div>