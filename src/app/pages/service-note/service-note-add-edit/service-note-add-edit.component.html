<div>
    <div class="box-group-white">
        <div class="box-group-title">
            <h2 class="text-center">{{title}}</h2>
            <div class="text-center">
                Ngày: <div class="clickable-text daterange-picker text-link"><input type="text" name="noteDate"
                        id="note-date-id" ng-model="noteDate"><span ng-if="viewModel.NoteId == 0"
                        class="font-weight-bold"></span> <span ng-if="viewModel.NoteId > 0"
                        class="font-weight-bold"></span></div>
            </div>
        </div>
        <div class="row mt-4">
            <div class="col-md-5 bd-right">
                <h4>Thông tin bệnh nhân</h4>
                <div class="col-md-12">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="col-md-3">
                                <span>Bệnh nhân<span class="text-danger">(*)</span></span>
                            </div>
                            <div class="col-md-9">
                                <div class="input-group">
                                    <input type="text" class="form-control">
                                    <div class="input-group-btn">
                                        <button class="btn btn-primary"
                                            ng-click="addCustomer();$event.preventDefault();">
                                            <i class="fa-regular fa-plus"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>


                        </div>
                        <div class="col-md-12" style="margin-top: 5px;margin-bottom :-10px;">
                            <div class="col-md-3"><span>Giới tính</span></div>
                            <div class="col-md-4">
                                <select class="form-control" disabled ng-model="noteModel.Customer.SexId">
                                    <option value="" selected>--Mặc định--</option>
                                    <option value="0">Nam</option>
                                    <option value="1">Nữ</option>
                                </select>
                            </div>
                            <div class="col-md-1 text-right"><span>SĐT</span></div>
                            <div class="col-md-4">
                                <input readonly type="tel" ng-model="noteModel.Customer.Phones"
                                    placeholder="Số điện thoại..." class="form-control" />
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="col-md-3"><span>Ngày sinh</span></div>
                            <div class="col-md-5">
                                <input class="input-datetime form-control text-box single-line" id="birthDate"
                                    style="text-align:left" type="text" ng-model="noteModel.Customer.BirthDate" />
                            </div>
                            <div class="col-md-1"><span>Tuổi</span></div>
                            <div class="col-md-3">
                                <input readonly type="text" ng-model="noteModel.Customer.OldNumber"
                                    class="form-control" />
                            </div>
                        </div>
                        <div class="col-md-12" style="margin-top :-10px;">
                            <div class="col-md-3"><span>Địa chỉ</span></div>
                            <div class="col-md-9">
                                <input readonly type="text" ng-model="noteModel.Customer.Addresses"
                                    placeholder="Địa chỉ..." class="form-control" />
                            </div>
                        </div>
                        <div class="col-md-12" style="margin-top:-10px;">
                            <div class="col-md-3"><span>Mã vạch</span></div>
                            <div class="col-md-9">
                                <div class="input-group" style="z-index:0">
                                    <input class="form-control" readonly maxlength="100" ng-model="noteModel.BarCode"
                                        type="text">
                                    <span class="input-group-btn">
                                        <a class="btn btn-primary" ng-click="fnGenbarcode()"><i
                                                class="fa-regular fa-barcode-read"></i></a>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12" style="margin-top:5px;">
                            <div class="col-md-3"><span>Số phiếu</span></div>
                            <div class="col-md-9">
                                <input type="text" readonly ng-model="noteModel.NoteNumber" class="form-control"
                                    placeholder="Số phiếu.." />
                            </div>
                        </div>
                        <div class="col-md-12" style="margin-top :-10px;">
                            <div class="col-md-3"><span>BS chỉ định</span><span class="text-danger">(*)</span></div>
                            <div class="col-md-9">
                                <div class="input-group">
                                    <input type="text" class="form-control">
                                    <span class="input-group-btn">
                                        <button class="btn btn-primary"
                                            ng-click="onAddDoctor(); $event.preventDefault(); $event.stopPropagation();"
                                            style="top:-2px;" title="Thêm bác sỹ mới nếu chưa có">
                                            <i class="glyphicon glyphicon-plus"></i>
                                        </button>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="col-md-3"><span>Người TH</span></div>
                            <div class="col-md-9">
                                <input type="text" class="form-control">
                            </div>
                        </div>
                    </div>
                </div>
                <hr />
                <h4>Chọn dịch vụ thực hiện</h4>
                <div class="col-md-12">
                    <div>
                        <span class="col-md-1">Nhóm</span>
                        <div class="col-md-4 pt-2">
                            <input type="text" class="form-control">
                        </div>
                        <span class="col-md-1">Tên</span>
                        <div class="col-md-6" style="z-index:10;">
                            <input type="text" class="form-control">
                        </div>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="col-md-12 table-left-height table-left-size">
                        <table class="table table-striped table-bordered table-hover tr-ng-grid">
                            <thead>
                                <tr>
                                    <th display-name="">
                                        <div class="tr-ng-column-header tr-ng-cell">
                                            <div>
                                                <div class="tr-ng-title"> </div>
                                            </div>
                                        </div>
                                    </th>
                                    <th display-name="Mã">
                                        <div class="tr-ng-column-header tr-ng-cell">
                                            <div>
                                                <div class="tr-ng-title"> Mã
                                                </div>
                                            </div>
                                        </div>
                                    </th>
                                    <th display-name="Tên dịch vụ">
                                        <div class="tr-ng-column-header tr-ng-cell">
                                            <div>
                                                <div class="tr-ng-title"> Tên dịch vụ
                                                </div>
                                            </div>
                                        </div>
                                    </th>
                                    <th display-name="Nhóm dịch vụ">
                                        <div class="tr-ng-column-header tr-ng-cell">
                                            <div>
                                                <div class="tr-ng-title"> Nhóm dịch vụ
                                                </div>
                                            </div>
                                        </div>
                                    </th>
                                    <th display-name="Chi phí">
                                        <div class="tr-ng-column-header tr-ng-cell">
                                            <div>
                                                <div class="tr-ng-title"> Chi phí
                                                </div>
                                            </div>
                                        </div>
                                    </th>
                                </tr>
                            </thead>

                            <tbody>
                                <tr>
                                    <td>
                                        <label>
                                            <input type="checkbox"
                                                ng-disabled="noteModel.IsDebt == false && noteModel.NoteId > 0"
                                                ng-model="gridItem.Checked" ng-click="addNewItem(gridItem)" />
                                        </label>
                                    </td>
                                    <td>
                                        <div>DV001</div>
                                    </td>
                                    <td>
                                        <div>Khám bệnh</div>
                                    </td>
                                    <td>
                                        <div>Khám bệnh</div>
                                    </td>
                                    <td>
                                        <div>200,000</div>
                                    </td>
                                </tr>
                            </tbody>
                            <tfoot>
                                <tr id="footerId">
                                    <td align="center" is-customized="true" colspan="13">
                                        <div class="tr-ng-grid-footer form-inline">
                                            <div>
                                                <div>
                                                    <span class="form-group pull-left page-size">
                                                        <select id="ddlPageSize" class="form-control">
                                                            <option label="10" value="number:10" selected="selected">10
                                                            </option>
                                                            <option label="20" value="number:20">20</option>
                                                            <option label="50" value="number:50">50</option>
                                                            <option label="100" value="number:100">100</option>
                                                            <option label="--All--" value="number:9000">--All--</option>
                                                        </select>
                                                        <span class="page-size-label">&nbsp;&nbsp;Dòng / Trang</span>
                                                    </span>
                                                    <span class="pull-right form-group" style="height:40px">
                                                        <ul class="pagination">
                                                            <li class="disabled">
                                                                <a href="javascript:void(0);" title="Trang đầu">
                                                                    <span>«</span> </a>
                                                            </li>
                                                            <li class="disabled">
                                                                <a href="javascript:void(0);" title="Trang trước">
                                                                    <span>‹</span>
                                                                </a>
                                                            </li>
                                                            <li class="active">
                                                                <a href="javascript:void(0);" title="Trang">1</a>
                                                            </li>
                                                            <li>
                                                                <a href="javascript:void(0);" title="Trang">2</a>
                                                            </li>
                                                            <li>
                                                                <a href="javascript:void(0);" title="Trang">3</a>
                                                            </li>
                                                            <li>
                                                                <a href="javascript:void(0);" title="Trang">4</a>
                                                            </li>
                                                            <li>
                                                                <a href="javascript:void(0);" title="Trang">5</a>
                                                            </li>
                                                            <li>
                                                                <a href="javascript:void(0);" title="Trang">6</a>
                                                            </li>
                                                            <li>
                                                                <a href="javascript:void(0);" title="Trang">7</a>
                                                            </li>
                                                            <li>
                                                                <a href="javascript:void(0);" title="Trang">8</a>
                                                            </li>
                                                            <li>
                                                                <a href="javascript:void(0);" title="Trang">9</a>
                                                            </li>
                                                            <li>
                                                                <a href="javascript:void(0);" title="Trang">10</a>
                                                            <li class="disabled"><span>...</span>
                                                            <li>
                                                                <a href="javascript:void(0);" title="Trang tiếp">
                                                                    <span>›</span>
                                                                </a>
                                                            </li>
                                                            <li>
                                                                <a href="javascript:void(0);" title="Trang cuối">
                                                                    <span>»</span>
                                                                </a>
                                                            </li>
                                                            <li class="disabled" style="white-space: nowrap;">
                                                                <span class="ng-hide">Không có dữ liệu</span>
                                                                <span> Tổng: 3182 bản ghi </span>
                                                            </li>
                                                        </ul>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>

            </div>

            <div class="col-md-7">
                <h4>Dịch vụ đã chọn</h4>
                <div class="table-size table-height baocao-container">
                    <table class="table table-striped table-bordered table-hover tr-ng-grid">
                        <thead>
                            <tr>
                                <th display-name="#">
                                    <div class="tr-ng-column-header tr-ng-cell">
                                        <div>
                                            <div class="tr-ng-title"># </div>
                                        </div>
                                    </div>
                                </th>
                                <th display-name="Tên dịch vụ">
                                    <div class="tr-ng-column-header tr-ng-cell">
                                        <div>
                                            <div class="tr-ng-title"> Tên dịch vụ
                                            </div>
                                        </div>
                                    </div>
                                </th>
                                <th display-name="Nhóm dịch vụ">
                                    <div class="tr-ng-column-header tr-ng-cell">
                                        <div>
                                            <div class="tr-ng-title"> Nhóm dịch vụ
                                            </div>
                                        </div>
                                    </div>
                                </th>
                                <th display-name="Dịch vụ đã mua">
                                    <div class="tr-ng-column-header tr-ng-cell">
                                        <div>
                                            <div class="tr-ng-title"> Dịch vụ đã mua
                                            </div>
                                        </div>
                                    </div>
                                </th>
                                <th display-name="Số lượng">
                                    <div class="tr-ng-column-header tr-ng-cell">
                                        <div>
                                            <div class="tr-ng-title"> Số lượng
                                            </div>
                                        </div>
                                    </div>
                                </th>
                                <th display-name="Số buổi TH">
                                    <div class="tr-ng-column-header tr-ng-cell">
                                        <div>
                                            <div class="tr-ng-title"> Số buổi TH
                                            </div>
                                        </div>
                                    </div>
                                </th>
                                <th display-name="Đơn giá">
                                    <div class="tr-ng-column-header tr-ng-cell">
                                        <div>
                                            <div class="tr-ng-title"> Đơn giá
                                            </div>
                                        </div>
                                    </div>
                                </th>
                                <th display-name="Thành tiền">
                                    <div class="tr-ng-column-header tr-ng-cell">
                                        <div>
                                            <div class="tr-ng-title"> Thành tiền
                                            </div>
                                        </div>
                                    </div>
                                </th>
                                <th display-name="Phòng thực hiện">
                                    <div class="tr-ng-column-header tr-ng-cell">
                                        <div>
                                            <div class="tr-ng-title"> Phòng thực hiện
                                            </div>
                                        </div>
                                    </div>
                                </th>
                                <th display-name="Kết thúc">
                                    <div class="tr-ng-column-header tr-ng-cell">
                                        <div>
                                            <div class="tr-ng-title"> Kết thúc
                                            </div>
                                        </div>
                                    </div>
                                </th>
                                <th display-name="Xoá">
                                    <div class="tr-ng-column-header tr-ng-cell">
                                        <div>
                                            <div class="tr-ng-title"> Xoá
                                            </div>
                                        </div>
                                    </div>
                                </th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td>
                                    <div>1</div>
                                </td>
                                <td>
                                    <div>Khám bệnh</div>
                                </td>
                                <td>
                                    <div>Khám bệnh</div>
                                </td>
                                <td>
                                    <div>
                                        <select class="form-control mb-0" ng-model="gridItem.IdNoteDetail"
                                            ng-change="onServicePackage(gridItem)"
                                            ng-disabled="gridItem.IdTypeService ==@((int)ETypeService.ServiceTherapy)">
                                            <option value="" selected disabled>-- Lựa chọn gói dịch vụ --</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <div>
                                        <input type="text" placeholder="Số lượng ..." style="width:50px;"
                                            ng-model="gridItem.Amount" ng-change="amountChange()"
                                            class="form-control mb-0 text-right">
                                    </div>
                                </td>
                                <td>
                                    <div>
                                        <input ng-disabled="gridItem.IdTypeService != 1" type="text"
                                            placeholder="Số buổi" style="width:50px;"
                                            ng-change="onCountChange(gridItem)" ng-model="gridItem.CountNumbers"
                                            class="form-control mb-0 text-right">
                                    </div>
                                </td>
                                <td>
                                    <div>
                                        <input ng-disabled="gridItem.IdTypeService != 1" type="text"
                                            placeholder="Đơn giá" style="width:100px;" awnum="app-decimal-number"
                                            ng-model="gridItem.RetailOutPrice" class="form-control mb-0 text-right">
                                    </div>
                                </td>
                                <td>
                                    <div>200,000</div>
                                </td>
                                <td>
                                    <div>
                                        <select class="form-control mb-0" ng-model="gridItem.ImplementationRoomCode">
                                            <option value="0" selected>-- Lựa chọn phòng thực hiện --</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <div>
                                        <input type="checkbox" class="form-check mb-0" ng-model="gridItem.IdStatus"
                                            title="kết thúc dịch vụ" />
                                    </div>
                                </td>
                                <td>
                                    <div>
                                        <span ng-show="gridItem.IdNoteDetailService > 0" class="btn btn-primary btn-sm"
                                            title="Kết quả xét nghiệm" ng-click="onOpenSource(gridItem)"><i
                                                class="fa-regular fa-file-word"></i></span>
                                        <button ng-disabled="noteModel.IsDebt == false && noteModel.NoteId > 0"
                                            class="btn btn-danger btn-sm" title="Xóa"
                                            ng-click="onDelete(gridItem); $event.preventDefault(); $event.stopPropagation();"><i
                                                class="fa-regular fa-trash"></i></button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr id="footerId">
                                <td align="center" is-customized="true" colspan="13">
                                    <div class="tr-ng-grid-footer form-inline">
                                        <div>
                                            <div>
                                                <span class="pull-right form-group" style="height:40px">
                                                    <ul class="pagination">
                                                        <li class="disabled" style="white-space: nowrap;">
                                                            <span> Tổng: 1 bản ghi </span>
                                                        </li>
                                                    </ul>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </tfoot>
                    </table>
                </div>

                <div class="mt-3 text-right">
                    <label>Tổng tiền : <span class="text-right"><strong></strong></span></label>
                </div>
                <div class="mt-3">
                    <textarea class="form-control mb-0" ng-model="noteModel.Notes"
                        placeholder="Kết luận ..."></textarea>
                </div>
            </div>
            <div class="col-md-12">
                <hr />
                <div class="d-flex justify-content-center align-items-center gap-10">
                    <button class="btn btn-default">Quay lại</button>
                    <div class="btn-group" ng-show="permittedFields.NoteService_Print">
                        <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false" ng-disabled="noteModel.NoteId <= 0">
                            In <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu">
                            <li><a href="#" ng-click="onPrint(noteModel.NoteId,1)">Phiếu In - A4</a></li>
                            <li><a href="#" ng-click="onPrint(noteModel.NoteId,2)">Phiếu In - A5</a></li>
                        </ul>
                    </div>
                    <span ng-show="permittedFields.NoteService_Delete"><button class="btn btn-danger"
                            ng-disabled="noteModel.NoteId <= 0 || noteModel.Locked"
                            ng-click="deleteNoteService(noteModel.NoteId,noteModel.IsDebt)">Xóa</button></span>
                    <a class="btn btn-primary" href=""
                        ng-disabled="noteModel.NoteId <= 0 || noteModel.IsDebt == false">Thanh toán</a>
                    <button class="btn btn-primary" ng-disabled="noteModel.Locked" title="" ng-click="SaveData()">Ghi
                        phiếu</button>
                    <a ng-show="noteModel.NoteId > 0" ng-click="onLockNote()" title="Mở/Khóa phiếu" class=""><i
                            class=""></i></a>
                </div>
            </div>
        </div>
    </div>
</div>