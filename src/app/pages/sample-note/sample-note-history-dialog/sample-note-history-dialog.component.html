<div class="card">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" (click)="closeModal()" aria-label="Đóng"><span aria-hidden="true"><i
                        class="fa-regular fa-xmark"></i></span></button>
            <h4 class="modal-title">Lịch sử kê đơn của bệnh nhân {{data.tenKhachHang}}</h4>
        </div>
        <div class="modal-body">
            <div class="row">
                <div class="col-lg-6 baocao-filter">
                    <fieldset>
                        <label>Tên đơn</label>
                        <input class="form-control" ng-model="keySearch" type="text" placeholder="Tìm theo đơn thuốc" />
                    </fieldset>
                    <fieldset>

                    </fieldset>
                </div>
            </div>
            <div class=" table-responsive trans-sample">
                <table mat-table class="table table-striped table-bordered table-hover tr-ng-grid"
                    [dataSource]="getDataSource()" matSort>

                    <ng-container matColumnDef="stt">
                        <th mat-header-cell *matHeaderCellDef> STT</th>
                        <td mat-cell *matCellDef="let data; index as i;">
                            <a target="_blank" href="/management/sample-note/detail/{{data.id}}">
                                {{ (page - 1) * pageSize + i + 1 }}
                            </a>
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="id">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Đơn số</th>
                        <td mat-cell *matCellDef="let data"> {{ data.id }}</td>
                    </ng-container>

                    <ng-container matColumnDef="noteDate">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Ngày kê</th>
                        <td mat-cell *matCellDef="let data">
                            {{data.noteDate | appDate}}
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="doctor">
                        <th mat-header-cell *matHeaderCellDef> Bác sỹ</th>
                        <td mat-cell *matCellDef="let data">{{ data.doctorName }}</td>
                    </ng-container>

                    <ng-container matColumnDef="noteName">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Tên đơn</th>
                        <td mat-cell *matCellDef="let data"> {{ data.noteName }}</td>
                    </ng-container>

                    <ng-container matColumnDef="description">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Ghi chú đơn</th>
                        <td mat-cell *matCellDef="let data"> {{ data.description }}</td>
                    </ng-container>

                    <ng-container matColumnDef="tenThuoc">
                        <th mat-header-cell *matHeaderCellDef> Thuốc</th>
                        <td mat-cell *matCellDef="let data"> </td>
                    </ng-container>

                    <ng-container matColumnDef="donVi">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Đơn vị</th>
                        <td mat-cell *matCellDef="let data"> {{data.typeDrugTotal}}</td>
                    </ng-container>

                    <ng-container matColumnDef="soLuong">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> SL</th>
                        <td mat-cell *matCellDef="let data"> {{data.typeDrugTotal | number}}</td>
                    </ng-container>

                    <ng-container matColumnDef="ghiChuThuoc">
                        <th mat-header-cell *matHeaderCellDef> Ghi chú thuốc</th>
                        <td mat-cell *matCellDef="let data"> {{ data.comment }}</td>
                    </ng-container>

                    <ng-container matColumnDef="action">
                        <th mat-header-cell *matHeaderCellDef> Copy đơn</th>
                        <td mat-cell *matCellDef="let data">

                        </td>
                    </ng-container>

                    <ng-container matColumnDef="footer">
                        <td mat-footer-cell *matFooterCellDef colspan="100">
                            <app-pagination [currentPage]="page" [totalPages]="totalPages" [totalRecord]="totalRecord"
                                (pageChange)="changePageIndex($event)"
                                (pageSizeChange)="changePageSize($event)"></app-pagination>
                        </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                    <tr mat-footer-row *matFooterRowDef="['footer']"></tr>

                </table>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" (click)="closeModal()">Đóng</button>
        </div>
    </div><!-- /.modal-content -->
</div><!-- /.modal-dialog -->