<div id="receiptNoteViewId">
  <div class="card-bg">
    <h2 class="card-title text-center mb-0">
      <b>{{title}}</b>
      <span style="padding-bottom: 12px; padding-left: 8px"
            class="btn tooltip-content-drug">
                <span >
                    <i style="font-size:20px; color: black" class="fa fa-info-circle" aria-hidden="true"></i>
                </span>
                <span style="font-size:14px; text-transform:none" class="show-tooltip-content-drug">
                    <b>F1:</b> Thêm mới phiếu trong tab mới<br/>
                    <b>F2:</b> Tìm khách hàng/nhà cung cấp<br/>
                    <b>F9:</b> Ghi phiếu<br/>
                    <b>F11:</b> Toàn màn hình<br/>
                    <b>↑ và ↓:</b> Đi từ trên xuống<br/>
                </span>
            </span>
    </h2>
    <div class="text-center card-desc">
      <div class="card-code">
        Mã số: <strong>{{formData.value.soPhieuNhap}}</strong>
      </div>
      Ngày:
      <div class="clickable-text daterange-picker text-link font-weight-bold">
        <span>
            {{formData.value.ngayNhap }}
          </span>
        <span ng-if="viewModel.NoteId > 0" class="ng-hide">
              <!-- {{viewModel.NoteTime}} -->
              00:00
          </span>
      </div>
    </div>
    <hr ng-if="deviceType==1"/>
    <div>
      <table class="table borderless table-condensed" ng-if="deviceType != 1">
        <tr>
          <td>
            <form [formGroup]="formData">
              <div class="form-inline-flex mb-3 align-items-start">
                <label class="control-label">
                  <span>Nhà cung cấp:</span>
                </label>
                <div class="input-group flex-direction-column">
                  <div class="input-group ng-scope">
                    <div class="ip-position ip-min-width flex-grow-1  ng-isolate-scope"
                         id="supplierSearchBoxId">
                      <div class="w-100">
                        <ng-select formControlName="nhaCungCapMaNhaCungCap" (keyup.enter)="searchListNhaCungCap($event)"
                                   (ngModelChange)="onChangeNhaCungCap($event)">
                          <ng-option *ngFor="let item of listNhaCungCap"
                                     [value]="item.id">{{item.tenNhaCungCap}}</ng-option>
                        </ng-select>
                      </div>
                    </div>
                    <div class="input-group-btn ng-scope">
                      <button class="btn btn-primary"
                              ng-click="addSupplier(); $event.preventDefault(); $event.stopPropagation();"
                              title="Thêm mới nếu chưa có">
                        <i class="fa-regular fa-plus"></i>
                      </button>
                      <input type="button" value="LS" title="Chi tiết lịch sử giao dịch"
                             class="btn btn-no-radius btn-primary"
                             ng-click="onTransByObjectDetails(5); $event.preventDefault(); $event.stopPropagation();">
                    </div>
                  </div>
<!--                  <div ng-if="deviceType != 1 && receiverSelectedItem!=null">-->
<!--                                    <span ng-hide="receiverSelectedItem.TaxCode == ''"><span>MST:-->
<!--                                        </span><strong>-->
<!--                                            &lt;!&ndash; {{receiverSelectedItem.TaxCode}} &ndash;&gt;-->
<!--                                            12334545-->
<!--                                        </strong></span>-->
<!--                    <span ng-hide="receiverSelectedItem.Addresses == ''"><span>&nbsp; Địa chỉ:-->
<!--                                        </span><strong>-->
<!--                                            &lt;!&ndash; {{receiverSelectedItem.Addresses}} &ndash;&gt;-->
<!--                                            địa chỉ-->
<!--                                        </strong></span>-->
<!--                    <br/><span ng-hide="infoRewardProgram == ''"><span>CTKM:-->
<!--                                        </span><strong>-->
<!--                                            &lt;!&ndash; {{infoRewardProgram}} &ndash;&gt;-->
<!--                                            km - Thời gian áp dụng từ 25/02/2024 tới 04/04/2024-->
<!--                                        </strong></span>-->
<!--                  </div>-->
                </div>
              </div>
            </form>
          </td>
          <td class="vertical-align-top" style="width: 250px;">
            <div class="text-right">
                            <span class="control-label d-block"><strong>Tổng nợ:</strong> <span class="text-danger">
                                    <!-- {{debtAmountSup | number:0}} -->
                                    0
                                </span></span>
            </div>
          </td>
        </tr>
      </table>
      <form [formGroup]="formData">
        <div class="row mb-3">
          <div class="col-sm-3">
            <div class="form-inline-flex">
              <label class="control-label">Số hóa đơn:</label>
              <input type="text" class="form-control mb-0" formControlName="invoiceNo"
                     placeholder="Số hóa đơn">
            </div>
          </div>
          <div class="col-sm-4">
            <div class="form-inline-flex">
              <label class="control-label">Ngày hóa đơn:</label>
              <div class="control-label">
                <div class="input-group">
                  <input type="text" class="form-control mb-0" name="invoiceDate" id="invoice-date-id"
                         placeholder="Ngày hóa đơn" formControlName="invoiceDate">
                  <span class="input-group-btn">
                                    <button type="button" class="btn btn-primary"
                                            ng-click="onInvoiceDateClick(); $event.preventDefault(); $event.stopPropagation();"><i
                                      class="fa-regular fa-calendar-days"></i></button>
                                </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </form>

      <!-- Mobile -->
      <div ng-if="deviceType!=0" item-search-filter="" select-changed-callback="onDrugSelectChanged"
           default-selected-changed-callback="onDefaultSelectedChanged" clear-after-selected="true"
           only-single-item="true" default-selected-item="selectedDrugItem" func-calls="drugSearchFuncCalls"
           show-cam-barcode-scanner="true" cam-barcode-scanned-callback="onCamBarcodeScanned" record-status-id="0"
           inventory-viewable="permittedFields.Drug_ViewInventory" search-type="1" id="drugSearchBoxId"
           class="ng-scope ng-isolate-scope ng-hide">
        <div class="input-group ng-scope" ng-if="showCamBarcodeScanner">
          <div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control ng-valid"
               ng-model="data.selected" theme="bootstrap" id="itemSearchId"
               reset-search-input="clearAfterSelected" forward-enter-key="forwardEnterKey"
               ng-disabled="disabledMode">
            <div><span class="ui-select-match" placeholder="Nhập mã, mã vạch hoặc tên"
                       id="itemSearchUISelectID"></span><input type="search" autocomplete="off"
                                                               autocorrect="off" autocapitalize="off" spellcheck="false"
                                                               class="ui-select-search input-xs ng-pristine ng-valid ng-touched"
                                                               placeholder="Nhập mã, mã vạch hoặc tên"
                                                               ng-disabled="$select.disabled"
                                                               ng-click="$select.activate()" ng-model="$select.search"
                                                               role="combobox"
                                                               aria-expanded="false" aria-label="Select box"
                                                               ondrop="return false;"
                                                               style="width: 305px;"></div>
            <ul
              class="itemSelectChoices ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu ng-hide"
              ng-show="$select.open &amp;&amp; $select.items.length > 0" refresh-delay="500"
              repeat="item in items | filter: $select.search" id="selectChoiceId">
              <li class="ui-select-choices-group" id="ui-select-choices-41">
                <div class="divider ng-hide" ng-show="$select.isGrouped &amp;&amp; $index > 0"></div>
                <div ng-show="$select.isGrouped"
                     class="ui-select-choices-group-label dropdown-header ng-binding ng-hide"
                     ng-bind="$group.name"></div>
              </li>
            </ul>
            <div class="ui-select-no-choice"></div>
          </div>
          <span class="input-group-btn">
                        <a id="startButtonId" href="javascript:void(0);" class="btn btn-default" style="height:30px;"
                           ng-click="getScan(); $event.preventDefault(); $event.stopPropagation();"
                           title="Bật quét mã vạch"><i class="fa fa-barcode"></i></a>
                    </span>
        </div>
      </div>

      <table class="table table-condensed table-responsive display dataTable no-footer" style="font-size:14px;">
        <thead>
        <tr>
          <th style="width: 3%">#</th>
          <th style="width: 3%">STT</th>
          <th style="width: 6%" class="ng-scope">Ảnh</th>
          <th style="width: 20%;">Mặt hàng <span class="ng-scope">
                                [Mã-Tên]</span></th>
          <th style="width: 9%;"><span class="ng-scope">Đơn
                                vị</span></th>
          <th style="width: 9%;">SL</th>
          <th style="width: 10%;" class="ng-scope">
                          <span class="ng-scope">Giá
                                nhập</span>
          </th>
          <th style="width: 17%" class="ng-binding ng-scope">Giá bán lẻ |
            TSLN(%)
          </th>
          <th style="width: 3%">C.K(%)</th>

          <th style="width: 3%"
              class="ng-scope">VAT(%)
          </th>
          <th style="width: 3%"
              class="ng-scope">Lô/Hạn
          </th>
          <th style="width: 3%; text-align:right;"
              class="ng-scope">Tồn
          </th>
          <th style="text-align:right;" class="ng-scope">
                            <span class="ng-scope">Thành
                                tiền</span>
          </th>
        </tr>
        </thead>
        <tbody class="ng-scope">
        <tr style="border-bottom: 1px solid #ccc; font-size: 14px">
          <td>
            <div class="ng-scope">
              <a class="btn btn-primary" title="Thêm mới"
                 (click)="addDrugToTable()"><i
                class="fa-regular fa-plus"></i></a>
            </div>
          </td>
          <td class="ng-scope">
          </td>
          <td class="ng-scope">
          </td>
          <td>
            <div class="ng-scope ng-isolate-scope">
              <div class="input-group">
                <div class="w-100">
                  <ng-select [(ngModel)]="rowItem.thuocThuocId" (keyup.enter)="searchListThuoc($event)"
                             (ngModelChange)="onChangeThuoc($event)">
                    <ng-option *ngFor="let item of listThuoc"
                               [value]="item.id">{{item.tenThuoc}}</ng-option>
                  </ng-select>
                </div>
                <span class="input-group-btn ng-scope">
                      <a (click)="addNewDrug();" class="btn btn-primary btn-radius"
                         title="Thêm mới">
                          <i class="fa-regular fa-plus"></i>
                      </a>
                  </span>
              </div>
              <span id="Logo" style="display:none;"></span>
            </div>
          </td>
          <td>
            <div>
              <div class="ng-scope">
                <ng-select [(ngModel)]="rowItem.donViTinhMaDonViTinh" (ngModelChange)="onChangeDviTinh($event)"
                           [clearable]="false">
                  <ng-option *ngFor="let item of rowItem.listDonViTinhs"
                             [value]="item.id">{{item.tenDonViTinh}}</ng-option>
                </ng-select>
              </div>
            </div>
          </td>
          <!--Số Lượng-->
          <td>
            <div class="ng-scope">
              <input type="text" id="tbxQuantityId" [(ngModel)]="rowItem.soLuong" (ngModelChange)="onChangeSoLuong()"
                     class="form-control mb-0  mousetrap row-item-quantiy"
                     style="width: 100%; text-align:right; font-size:14px;">
            </div>
          </td>

          <!--Giá Nhập-->
          <td class="ng-scope">
            <input id="tbxPriceId" [(ngModel)]="rowItem.giaNhap" (ngModelChange)="onChangePrice();onChangeSoLuong()"
                   class="form-control mb-0  mousetrap"
                   style="width: 100%; text-align:right; font-size:14px;">
          </td>
          <!--Giá Nhập sau VAT-->


          <!--Giá Bán Lẻ-->
          <td class="ng-scope">
            <div class="input-group mb-3 ">
              <input type="text" [(ngModel)]="rowItem.giaBanLe" (ngModelChange)="onChangePrice()"
                     class="form-control mb-0 mousetrap inline ng-pristine ng-untouched ng-valid ng-isolate-scope">
              <input type="text" [(ngModel)]="rowItem.rateRevenue"
                     class="form-control ng-pristine ng-untouched ng-valid ng-scope" style="width: 66%;">
              <span class="input-group-text btn btn-primary ng-scope"
                    ng-click="updateInPrice($event, gridItem); $event.preventDefault(); $event.stopPropagation();"
                    title="Cập nhật giá nhập">
                  <i class="fa-regular fa-pen-to-square"></i>
              </span>
            </div>
          </td>
          <!--C.K-->
          <td class="ng-scope">
            <input id="tbxDiscountId" type="text" [(ngModel)]="rowItem.chietKhau" (ngModelChange)="onChangeSoLuong()"
                   class="form-control mb-0 mousetrap ng-pristine ng-untouched ng-valid ng-isolate-scope"
                   style="width: 100%; text-align:right;">
          </td>
          <!--VAT-->
          <td class="ng-scope">
            <input id="tbxVATId" type="text" [(ngModel)]="rowItem.vat" (ngModelChange)="onChangeSoLuong()"
                   class="form-control mb-0 mousetrap ng-pristine ng-untouched ng-valid ng-isolate-scope"
                   style="width: 100%; text-align:right;">
          </td>
          <!--Lô/Hạn-->
          <td ng-if="viewModel.NoteTypeId==1 || viewModel.NoteTypeId==10" class="ng-scope">
            <div class="input-group ng-scope" ng-if="deviceType!=1" style="z-index:0">
                  <span onclick="event.preventDefault();">
                      <button class="btn btn-primary"
                              ng-click="updateBatchExpiryDate($event, gridItem); $event.preventDefault(); $event.stopPropagation();">
                          <span><i class="fa-regular fa-calendar-days"></i></span>
                      </button>
                  </span>
            </div>
          </td>
          <!--Tồn-->
          <td
            ng-if="deviceType!=1 &amp;&amp; viewModel.NoteTypeId==1 &amp;&amp; permittedFields.Drug_ViewInventory &amp;&amp; enableDeliveryPickUp"
            ng-click="onGetDataDetailLastValueWarehouse(gridItem)" class="ng-scope">

            <div class="number-value">
              <span style="cursor:pointer" class="btn-link ng-binding">{{rowItem.tonKho}}</span>
            </div>
          </td>
          <!--Thành Tiền-->
          <td>
            <div class="number-value">
              <strong
                class="ng-binding ng-scope">{{rowItem.tongTien}}</strong>
            </div>
          </td>
        </tr>
        </tbody>
        <tbody class="ng-scope">
        <tr *ngFor="let rowTable of dataTable; index as i;" style="border-bottom: 1px solid #ccc; font-size: 14px">
          <!--Actions-->
          <td>
            <div class="ng-scope">
              <a class="btn btn-danger delete-drug" title="Xóa" (click)="onDelete(rowTable);">
                <i class="fa-regular fa-trash"></i></a>
            </div>
          </td>
          <!--STT-->
          <td class="ng-scope">
            <a ng-click="onDrugInfoDetails(gridItem.DrugId);">
              {{i + 1}}
            </a>
          </td>
          <!--Hình ảnh-->
          <td class="ng-scope">

          </td>
          <td>
            <div class="ng-scope">
                <span class="ng-scope">
                      <span style="color:seagreen; padding:0;" class="btn-link">
                          <span class="btn-link ng-binding"
                                style="background:lightgreen"
                          >{{rowTable.maThuoc}}</span>
                      </span>
                      <span>-</span>
                      <span class="btn-link tooltip-content-drug ng-binding" style="background:lightgreen"
                            title="Tra cứu giá thị trường">
                          {{rowTable.tenThuoc}}
                      </span>
                <p class="btn-link tooltip-content-drug"
                   style="color: seagreen; font-style: italic; padding-left: 10px; cursor: pointer"
                   ng-click="onSearchPriceInOut(gridItem)" title="Tra cứu giá thị trường">
                  <i class="fa fa-line-chart" style="color: #FD7A42"></i> Check giá nhé!
                </p>
                </span>
            </div>
          </td>
          <!--Đơn Vị-->
          <td>
            <div>
              <div class="ng-scope">
                <ng-select [(ngModel)]="rowTable.donViTinhMaDonViTinh" (ngModelChange)="onChangeDviTinh($event,rowTable)">
                  <ng-option *ngFor="let item of rowTable.listDonViTinhs"
                             [value]="item.id">{{item.tenDonViTinh}}</ng-option>
                </ng-select>
              </div>
            </div>
          </td>
          <!--Số Lượng-->
          <td>
            <div class="ng-scope">
              <input type="text" [(ngModel)]="rowTable.soLuong" (ngModelChange)="onChangeSoLuong(rowTable)"
                     class="form-control mb-0  mousetrap row-item-quantiy"
                     style="width: 100%; text-align:right; font-size:14px;">
            </div>
          </td>
          <!--Giá Nhập-->
          <td class="ng-scope">
            <input id="tbxPriceId" [(ngModel)]="rowTable.giaNhap"
                   (ngModelChange)="onChangePrice(rowTable);onChangeSoLuong(rowTable)"
                   class="form-control mb-0  mousetrap"
                   style="width: 100%; text-align:right; font-size:14px;">
          </td>

          <!--Giá Bán Lẻ-->

          <td class="ng-scope">
            <div class="input-group mb-3 ">
              <input type="text" [(ngModel)]="rowTable.giaBanLe" (ngModelChange)="onChangePrice(rowTable)"
                     class="form-control mb-0 mousetrap inline ng-pristine ng-untouched ng-valid ng-isolate-scope">
              <input type="text" [(ngModel)]="rowTable.rateRevenue"
                     class="form-control ng-pristine ng-untouched ng-valid ng-scope" style="width: 66%;">
              <span class="input-group-text btn btn-primary ng-scope"
                    ng-click="updateInPrice($event, gridItem); $event.preventDefault(); $event.stopPropagation();"
                    title="Cập nhật giá nhập">
                    <i class="fa-regular fa-pen-to-square"></i>
                </span>
              <!--                <input type="text"-->
              <!--                       class="form-control mb-0 mousetrap inline ng-pristine ng-untouched ng-valid ng-isolate-scope"-->
              <!--                       ng-model="gridItem.OutPrice" ng-change="onOutpriceChange(gridItem,'outprice')"-->
              <!--                       awnum="app-decimal-number" ng-blur="onLostFocus($event)">-->
              <!--                <input ng-if="permittedFields.Drug_ViewInputPrice" type="text"-->
              <!--                       class="form-control ng-pristine ng-untouched ng-valid ng-scope" style="width: 66%;"-->
              <!--                       ng-model="gridItem.RateRevenue"-->
              <!--                       ng-change="onOutpriceChange(gridItem,'raterevenue')">-->

              <!--                <span class="input-group-text btn btn-primary ng-scope"-->
              <!--                      ng-if="deviceType==0 &amp;&amp; viewModel.NoteTypeId==1"-->
              <!--                      ng-click="updateInPrice($event, gridItem); $event.preventDefault(); $event.stopPropagation();"-->
              <!--                      title="Cập nhật giá nhập">-->
              <!--                                      <i class="fa-regular fa-pen-to-square"></i>-->
              <!--                                  </span>&lt;!&ndash; end ngIf: deviceType==0 && viewModel.NoteTypeId==1 &ndash;&gt;-->
            </div>
          </td>
          <td class="ng-scope">
            <div class="ng-scope">
              <input id="tbxDiscountId1" type="text"
                     class="form-control mb-0 mousetrap ng-pristine ng-untouched ng-valid ng-isolate-scope"
                     style="width: 100%; text-align:right;" [(ngModel)]="rowTable.chietKhau">
            </div>
          </td>
          <td class="ng-scope">
            <div class="ng-scope">
              <input id="tbxVATId1" type="text"
                     class="form-control mb-0 mousetrap ng-pristine ng-untouched ng-valid ng-isolate-scope"
                     style="width: 100%; text-align:right;" [(ngModel)]="rowTable.vat">
            </div>
          </td>
          <!--Lô/Hạn-->
          <td class="ng-scope">
            <div class="input-group ng-scope" style="z-index:0">
              <span onclick="event.preventDefault();">
                  <button class="btn btn-primary"
                          ng-click="updateBatchExpiryDate($event, gridItem); $event.preventDefault(); $event.stopPropagation();">
                      <span><i class="fa-regular fa-calendar-days"></i></span>
                  </button>
              </span>
            </div>
          </td>
          <!--Tồn-->
          <td class="ng-scope">
            <div class="number-value">
              <span style="cursor:pointer" class="btn-link ng-binding">{{rowTable.tonKho}}</span>
            </div>
          </td>
          <!--Thành Tiền-->
          <td>
            <div class="number-value">
              <strong class="ng-binding ng-scope">{{rowTable.tongTien}}</strong>
            </div>
          </td>
        </tr>
        </tbody>
      </table>
      <div class="row mt-3 mb-3">
        <form [formGroup]="formData" class="form-inline ng-pristine ng-valid" novalidate="novalidate">
          <div class="col-sm-3">
            <b>
              Tổng số tiền:
              <span
                class="ng-binding ng-scope">{{calendarTongTien()}}</span>
            </b>
          </div>
          <div class="col-sm-3">
            <div class="input-group">
              <b style="width:36%">C.K.Đơn (VNĐ)</b>
              <input type="text"
                     class="form-control mb-0 ng-pristine ng-untouched ng-valid ng-isolate-scope"
                     style="width:100%;" formControlName="discount"
                     (ngModelChange)="onChangeDiscount($event,1)">
            </div>

          </div>
          <div class="col-sm-3">
            <div class="input-group">
              <b style="width:27%">C.K.Đơn (%)</b>
              <input type="text"
                     class="form-control mb-0 ng-pristine ng-untouched ng-valid ng-isolate-scope"
                     style="width:100%;" formControlName="discountWithRatio"
                     (ngModelChange)="onChangeDiscount($event,2)">
            </div>
          </div>
          <div class="col-sm-3 ng-scope" style="z-index:0">
            <table>
              <tbody>
              <tr>
                <td>
                  <div class="form-inline-flex mb-2">
                    <label>Trả: </label>
                    <div class="input-group">
                      <input
                        type="text"
                        id="tbxPaymentAmount"
                        class="form-control mb-0 ng-pristine ng-untouched ng-valid ng-scope ng-isolate-scope"
                        style="width:50%;" formControlName="daTra">
                      <input class="btn btn-primary btn-group" type="button" value="F"
                             title="Ấn vào đây để trả đủ số tiền" id="btnFull"
                             ng-click="onPayFull(); $event.preventDefault(); $event.stopPropagation();">
                    </div>
                  </div>
                  <div class="msg_payment_header">Hình thức thanh toán <span (click)="showOption()">[+]</span></div>
                  <div id="paymentSlide" class="form-check" style="{{ isShow ? 'display: none;' : ''}}">
                    <mat-radio-group formControlName="paymentTypeId" class="example-radio-group">
                      <mat-radio-button *ngFor="let item of listPaymentType" class="example-radio-button" [value]="item.id">{{item.displayName}}</mat-radio-button>
                    </mat-radio-group>
                  </div>
                </td>
              </tr>
              <tr>
                <td>
                    <span
                      class="text-danger ng-binding ng-scope"
                      ng-if="permittedFields.Drug_ViewInputPrice || viewModel.NoteTypeId == 3">Còn
                        nợ:
                        0</span>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        </form>
      </div>
      <table class="table borderless table-condensed">
        <tbody>
        <tr>
          <td>
            <div class="d-flex gap-10 text-left">
              <label>Diễn giải:</label>
              <textarea class="form-control mb-0 ng-pristine ng-untouched ng-valid"
                        style="width: 100%"></textarea>
            </div>

          </td>
        </tr>
        </tbody>
      </table>
      <table class="table borderless table-condensed">
        <tbody>
        <tr ng-if="viewModel.TaskMode==2" class="ng-scope">
          <td style="width: 50%;"></td>
          <td>
            <div class="d-flex justify-content-between">
              <div class="flex-grow-1 text-left">
                <span>[Người lập: </span>
                <span class="ng-binding">{{formData.value.tenNguoiTao}}]</span>
              </div>
              <div class="flex-grow-1 text-right">
                <span>[Ngày lập: </span>
                <span class="ng-binding">{{formData.value.ngayNhap}}]</span>
              </div>
            </div>
          </td>
        <tr>
          <td colspan="3">
            <div class="d-flex align-items-center justify-content-center gap-10">
              <input type="button" value="Quay lại" class="btn btn-default"
                     ng-click="onBack(); $event.preventDefault(); $event.stopPropagation();">
              <input type="submit" value="Ghi Phiếu" id="save-note-btn-id" title="F9-Ghi phiếu"
                     class="btn btn-primary"
                     (click)="createUpdate()">
              <!--                <div class="btn-group ng-scope"-->
              <!--                     ng-if="viewModel.TaskMode==2 &amp;&amp; deviceType==0 &amp;&amp; viewModel.NoteTypeId==1">-->
              <!--                  <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown"-->
              <!--                          aria-haspopup="true" aria-expanded="false">-->
              <!--                    In <span class="caret"></span>-->
              <!--                  </button>-->
              <!--                  <ul class="dropdown-menu">-->
              <!--                    <li>-->
              <!--                      <a ng-click="onPrint(viewModel.NoteId, 1, 1)">-->
              <!--                        In-->
              <!--                      </a>-->
              <!--                    </li>-->
              <!--                    <li-->
              <!--                      ng-if="(viewModel.DrugStoreId == '0010' || viewModel.DrugStoreId == '3214' || viewModel.DrugStoreId == '3220' || viewModel.DrugStoreId == '3780' || viewModel.DrugStoreId == '13202') &amp;&amp; viewModel.NoteTypeId == 1"-->
              <!--                      class="ng-scope">-->
              <!--                      <a href="#" ng-click="onOpenFormPrint(viewModel.NoteId,'ipn')">-->
              <!--                        In Khác-->
              <!--                      </a>-->
              <!--                    </li>-->
              <!--                    <li-->
              <!--                      ng-if="(viewModel.DrugStoreId == '0010' || viewModel.DrugStoreId == '3214' || viewModel.DrugStoreId == '3220' || viewModel.DrugStoreId == '3780' || viewModel.DrugStoreId == '13202') &amp;&amp; viewModel.NoteTypeId == 1"-->
              <!--                      class="ng-scope">-->
              <!--                      <a href="#" ng-click="onOpenFormPrint(viewModel.NoteId,'bbkn')">-->
              <!--                        In biên bản-->
              <!--                      </a>-->
              <!--                    </li>-->
              <!--                    <li>-->
              <!--                      <a href="/Thuocs/InMaVach?MaPhieu=3648150&amp;LoaiPhieu=1" target="_blank">-->
              <!--                        In mã vạch thuốc-->
              <!--                      </a>-->
              <!--                    </li>-->
              <!--                  </ul>-->
              <!--                </div>-->

<!--              <span ng-if="viewModel.TaskMode==2"-->
<!--                    class="ng-scope">-->
<!--                      <span ng-if="viewModel.Editable" class="ng-scope">-->
<!--                          <a href="/PhieuNhaps/delete/3648150" class="btn btn-danger btn btn-danger">Xóa-->
<!--                              phiếu</a>-->
<!--                      </span>-->
<!--                      <a ng-click="onLockNote(); $event.preventDefault(); $event.stopPropagation();"-->
<!--                         title="Mở/Khóa phiếu" class="btn btn-default"><i-->
<!--                        class="fa fa-unlock fa-lg"></i></a>-->
<!--              </span>-->
              <span
                ng-if="viewModel.NoteTypeId==1 &amp;&amp; viewModel.EnableElectronicInvoice"
                class="ng-scope">
                      <input type="file" ngf-select="uploadXmlInvoiceFiles($file, $invalidFiles)"
                             style="display: none;" id="chooseXmlInvoiceFileId" accept="text/xml"
                             ngf-max-size="10MB" value="Tải file" class="btn btn-primary">
                      <input type="button" value="Đọc HĐ" class="btn btn-warning"
                             ng-click="onSelectXmlInvoiceFileToImport(); $event.preventDefault(); $event.stopPropagation();">
                  </span>
            </div>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>

</div>
<!--<inventory-multiple-warehouse-dialog></inventory-multiple-warehouse-dialog>-->
<!--<transaction-detail-by-object-dialog></transaction-detail-by-object-dialog>-->
<!--&lt;!&ndash;<drug-add-edit-dialog></drug-add-edit-dialog>&ndash;&gt;-->
<!--<drug-update-inprice-dialog></drug-update-inprice-dialog>-->
<!--<drug-update-batch-dialog></drug-update-batch-dialog>-->
<!--<supplier-add-edit-dialog [isMinimized]="true"></supplier-add-edit-dialog>-->
<!--<drug-update-additional-info-dialog></drug-update-additional-info-dialog>-->
<!--&lt;!&ndash; @if (MedSessionManager.HasPermission((int)MedResourceType.Drug_SearchDrugCatalog)) { &ndash;&gt;-->
<!--<drug-search-price-in-out-dialog></drug-search-price-in-out-dialog>-->
<!--<drug-mapping-common-dialog></drug-mapping-common-dialog>-->
<!-- } -->
