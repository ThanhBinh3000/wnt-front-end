<div>
    <div class="row">
        <div class="col-md-3">
            <div class="sidebar-bg">
                <fieldset class="mb-3">
                    <label>Loại NT</label>
                    <select class="form-control mb-0" >
                        <option *ngFor="let i in drugStoreTypes">{{i.name}}</option>
                    </select>
                </fieldset>
                <fieldset>
                    <label>Tìm theo</label>
                    <div item-search-filter
                         select-changed-callback="onDrugStoreSelectChanged"
                         default-selected-changed-callback="onDefaultSelectedChanged"
                         enter-key-callback="onSearchAcceptEnterKey"
                         clear-after-selected="false"
                         forward-enter-key="true"
                         only-single-item="false"
                         default-selected-item="selectedDrugStoreItem"
                         search-type="6"
                         search-info-type-Id="0"
                         func-calls="searchItemFuncCalls"
                         update-search-text-by-selected-result="true"
                         search-placeholder="'Tra cứu theo tên, địa chỉ,...'"
                         resettable="true"
                         resettable-callback="onResetSearching"
                         enable-scan-barcode="true"
                         class="mb-3">
                    </div>
                    <label>Số ngày không giao dịch</label>
                    <div class="mb-3">
                        <input type="text" class="form-control mb-0" awnum="app-decimal-number" ng-model="filterModel.NumDaysNoTrans" />
                    </div>
                    <div class="mb-3">
                        <div class="control-group">
                            <div class="d-flex gap-10">
                                <div class="form-check">
                                    <input type="checkbox" ng-model="filterModel.IsActivated" class="form-check-input form-control"
                                           ng-change="onActivatedSelectChanged()">
                                    <label class="form-check-label">NT đã kích hoạt</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label>Trạng thái triển khai</label>
                        <select ng-change="onDrugStoreDeployTypeChanged(storeDeployTypeId)" class="form-control mb-0">
                            <select class="form-control mb-0" >
                                <option *ngFor="let i of drugStoreDeployTypes" value="{{i.value}}">{{i.name}}</option>
                            </select>
                        </select>
                    </div>
                </fieldset>
                <fieldset>
                    <div class="mb-3">
                        <label>Người tạo</label>
                        <div report-group-type-filter group-filter-title=""
                             group-filter-type="2"
                             show-group-filter-type="false"
                             single-mode="true"
                             filter-item-type="13"
                             selected-item-id="filterModel.UserId"
                             selected-item="selectedUserItem"
                             item-changed-callback="onUserItemChanged"
                             filter-by-name-for-drug="false"
                             raise-event-on-first-selected-by-default="true"
                             additional-item-name="'--Tất cả--'"
                             disabled-mode="false"
                             class="mb-0"></div>
                    </div>
                    <div class="mb-3">
                        <label>Tỉnh thành</label>
                        <div report-group-type-filter group-filter-title=""
                             group-filter-type="2"
                             show-group-filter-type="false"
                             single-mode="true"
                             filter-item-type="14"
                             selected-item-id="filterModel.ProvinceId"
                             selected-item="selectedProvinceItem"
                             item-changed-callback="onProvinceItemChanged"
                             filter-by-name-for-drug="false"
                             raise-event-on-first-selected-by-default="true"
                             additional-item-name="'--Tất cả--'"
                             disabled-mode="false"
                             class="mb-0"></div>
                    </div>
                    <div class="mb-3">
                        <label>Lựa chọn kiểu ngày lọc</label>
                        <div class="selectBox" onclick="showCheckboxesFilter()">
                            <select class="form-control mb-0" >
                                <option *ngFor="let i of typeDateItem" value="{{i.value}}">{{i.name}}</option>
                            </select>
                            <div class="overSelect"></div>
                        </div>
                        <div id="checkboxesfilter" ng-model="filterModel.TypeDate">
                            <label *ngFor="let i of typeDateItem" for="{{i.name}}">
                                <input type="checkbox" ng-change="onSelectedTypeDate(i)" />{{i.name}}
                            </label>
                        </div>
                    </div>
                    <div *ngIf="filterModel.TypeDate == 2" class="mb-3">
                        <label>Trạng thái phiếu LT</label>
                        <select class="form-control mb-0" ng-model="filterModel.ConnectivityFilterTypeId">
                            <option *ngFor="let i of connectivityTypes" value="{{i.value}}">{{i.name}}</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label>Lựa chọn chính sách bán hàng</label>
                        <select class="form-control mb-0" ng-model="filterModel.TypeBasic">
                            <option *ngFor="let i of connectivityTypes" value="{{i.value}}">{{i.name}}</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label>Trạng thái thanh toán</label>
                        <select class="form-control mb-0" ng-model="filterModel.TypeBasic">
                            <option *ngFor="let i of drugStorePaymentTypes" value="{{i.value}}">{{i.name}}</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label>Ngày hết hạn</label>
                        <select class="form-control mb-0" ng-model="filterModel.TypeBasic">
                            <option *ngFor="let i of expiredTypes" value="{{i.value}}">{{i.name}}</option>
                        </select>
                    </div>
                    <div class="mb-3 form-check">
                        <input type="checkbox" ng-model="filterModel.IsOutOfInvoice" class="form-control form-check-input"
                               ng-change="onOutOfInvoiceSelectChanged()">
                        <label class="form-check-label">Đã hết số lượng chứng từ</label>
                    </div>
                    <div class="mb-3 form-check">
                        <label>Trạng thái gửi ZNS</label>
                        <select class="form-control mb-0" ng-model="filterModel.TypeBasic">
                            <option *ngFor="let i of drugStorePaymentTypes" value="{{i.value}}">{{i.name}}</option>
                        </select>

                    </div>
                    <div class="mb-3">
                        <label>Chăm sóc sau bán hàng</label>
                        <select ng-change="onSupporterFilterChanged(supporterId)" class="form-control mb-0" ng-model="supporterId">
                            <option value="-1" selected>--Tất cả--</option>
                            <!-- <option ng-repeat="i in supperUsers" value="{{i.StaffId}}">
                                {{i.StaffName}}
                            </option> -->
                        </select>
                    </div>
                </fieldset>
                <fieldset class="baocao-filter">
                    <div report-date-rage-filter
                         display-data-table-id="table-id-drug-stores"
                         filter-type="filterType"
                         display-data-callback="onDisplayData"
                         supress-export="!permittedFields.Export_Stores" supress-print="true"
                         call-callback-after-init="true"
                         export-callback="onExport"></div>
                    <a href="/Nhathuoc/Create" class="btn btn-primary mt-3 w-100">
                        Thêm mới
                    </a>
                </fieldset>
            </div>
        </div>

        <div class="col-md-9" style="font-size:small">
            <div class="box-group-white">
                <div style="padding: 20px 0">
                    <div id="customCheckboxs" class="mb-3">
                        <div class="selectBox" onclick="showCheckboxes()">
                            <select class="form-control mb-0">
                                <option selected="selected" disabled="disabled" value="">Ẩn/Hiện thông tin</option>
                            </select>
                            <div class="overSelect"></div>
                        </div>
                        <div id="checkboxes">
                            <label ng-repeat="let i of hideColumns">
                                <input type="checkbox" ng-change="onSelectedHideColum(i.id)" ng-model="i.disable" />
                            </label>
                        </div>
                    </div>
                    <h2 class="text-center"><b>Danh sách nhà thuốc</b></h2>

                </div>
                <div onscroll="onScroll()" class="baocao-container table-responsive">
                    <table class="table table-striped table-bordered table-hover tr-ng-grid">
                        <thead>
                            <tr class="sticky-row">
                                <th display-name="#" style="min-width: 10px;" ng-if="deviceType!=1"></th>
                                <th id="titleCodeId" class="sticky-col" field-name="Code" display-name="Mã" enable-sorting="true">Mã</th>
                                <th id="titleNameId" class="sticky-col" display-name="Tên">Tên</th>
                                <th id="titleAddressId" display-name="Địa chỉ" class="sticky-col">Tỉnh thành</th>
                                <th display-name="Tỉnh thành"></th>
                                <th id="titlePhoneId" display-name="Điện thoại" class="sticky-col">Số điện thoại</th>
                                <th  display-name="Người đại diện">Người đại diện</th>
                                <th display-name="Người tạo">Người tạo</th>
                                <th field-name="CreatedDate" display-name="Ngày tạo - Ngày hh" title="Ngày tạo - Ngày hết hạn">
                                    <span>Ngày tạo - Ngày hh</span>
                                </th>
                                <th display-name="TT gửi tin XN tạo TK">TT gửi tin XN tạo TK</th>
                                <th display-name="Mã QG">Mã QG</th>
                                <th display-name="TK LT">TK LT</th>
                                <th  display-name="C.S bán hàng">C.S bán hàng</th>
                                <th display-name="Nhân viên kinh doanh">Nhân viên kinh doanh</th>
                                <th display-name="Chăm sóc sau bán hàng">Chăm sóc sau bán hàng</th>
                                <th  display-name="Ghi chú kinh doanh">Ghi chú kinh doanh</th>
                                <th  display-name="Ghi chú triển khai">Ghi chú triển khai</th>
                                <th  style="min-width: 200px" display-name="Kết quả triển khai">Kết quả triển khai</th>
                                <th display-name="Tiền thanh toán">Tiền thanh toán</th>
                                <th  display-name="Tổng tiền">Tổng tiền</th>
                                <th display-name="TT thu tiền">TT thu tiền</th>
                                <th display-name="TT gửi tin XNTT">TT gửi tin XNTT</th>
                                <th display-name="KQ gửi tin XNTT">KQ gửi tin XNTT</th>
                                <th  display-name="Ngày thu tiền">Ngày thu tiền</th>
                                <th display-name="Tổng (nhập/ xuất)">Tổng (nhập/ xuất)</th>
                                <th display-name="#"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <!--STT-->
                                <td ng-if="deviceType!=1">
                                    <div>
                                        <a href="" ng-click="onRegionalDetails(gridItem.Id, 1); $event.preventDefault(); $event.stopPropagation();">
                                            <!-- {{gridItem.Order}} -->1
                                        </a>
                                    </div>
                                </td>

                                <!--Mã nhà thuốc-->
                                <td field-name="Code" class="sticky-col content-code">
                                    <div class="text-left">
                                        <a href="" ng-click="onGeneralStoreMapping(gridItem); $event.preventDefault(); $event.stopPropagation();">
                                            <!-- {{gridItem.Code}} --> 0010
                                        </a>
                                    </div>
                                </td>

                                <!--Tên nhà thuốc-->
                                <td class="sticky-col content-name" title="quản lý">
                                    <div class="text-left">
                                        <span class="label label-info pull-right">
                                            <!-- {{gridItem.StoreHat}} -->QL
                                        </span>
                                        <br />
                                        <a href="/">
                                            <!-- {{gridItem.Name}} --> Web nhà thuốc
                                        </a>
                                    </div>
                                </td>

                                <!--Địa chỉ-->
                                <td class="sticky-col content-address">
                                    <div class="text-left">
                                        <!-- {{gridItem.Addresses}} --> Hà Nội
                                    </div>
                                </td>

                                <!--Tỉnh thành-->
                                <td>
                                    <div class="text-left">
                                        <!-- {{gridItem.Province}} -->Hà Nội
                                    </div>
                                </td>

                                <!--Điện thoại-->
                                <td class="text-left sticky-col content-phone">
                                    <div>
                                        <!-- {{getPhoneNumbers(gridItem)}} -->0123456789
                                    </div>
                                </td>

                                <!--Người đại diện-->
                                <td>
                                    <div class="text-left">
                                        <!-- {{gridItem.Representation}} -->Nguyễn Văn A
                                    </div>
                                </td>

                                <!--Người tạo-->
                                <td>
                                    <div class="text-left">
                                        <!-- {{gridItem.UserName}} -->Test
                                    </div>
                                </td>

                                <!--Ngày tạo - Ngày hết hạn-->
                                <td field-name="CreatedDate">
                                    <div class="text-left">
                                        <!-- {{gridItem.CreatedDate | appDate}} {{gridItem.ExpiredDate != null ? (gridItem.ExpiredDate | appDate) : ''}} -->
                                        20/1/2024
                                    </div>
                                </td>
                                <!--TT gửi tin tạo tài khoản-->
                                <td>
                                    <div>
                                        <!-- {{gridItem.TxtStatusMessageCraeteAccount_ZNS}} --> Đã gửi
                                    </div>
                                </td>
                                <!--Mã QG-->
                                <td>
                                    <div>
                                        <!-- <span>{{gridItem.ConnectivityCode}}</span> -->
                                        gp-00010
                                        <span onclick="event.preventDefault();" ng-if="gridItem.IsConnectivity"><button class="btn btn-primary btn-sm" ng-click="onCheckConnectivity(gridItem); $event.preventDefault(); $event.stopPropagation();"><i class="fa-regular fa-arrows-rotate"></i></button></span>
                                    </div>
                                </td>

                                <!--TK LT-->
                                <td>
                                    <div class="text-left">
                                        <!-- {{gridItem.ConnectivityUserName}}<br />{{gridItem.ConnectivityPassword}} -->
                                        ma1<br/>123456
                                    </div>
                                </td>

                                <!--Chính sách bán hàng-->
                                <td>
                                    <div class="text-left">
                                        <!-- {{gridItem.NameTypeBasis}} -->Tự do
                                    </div>
                                </td>
                                <!--nhân viên kinh doanh-->
                                <td>
                                    <!-- <select class="form-control" ng-model="gridItem.BusinessId" ng-change="onBusinessChanged(gridItem)">
                                        <option value="0">Chọn nhân viên kinh doanh</option>
                                        <option ng-repeat="i in supperUsers" value="{{i.StaffId}}">{{i.StaffName}}</option>
                                    </select> -->
                                </td>
                                <!--Chăm sóc sau bán hàng-->
                                <td>
                                    <!-- <select class="form-control" ng-model="gridItem.SupporterId" ng-change="onSupporterChanged(gridItem)">
                                        <option value="0">Chọn nhân viên</option>
                                        <option ng-repeat="i in supperUsers" value="{{i.StaffId}}">{{i.StaffName}}</option>
                                    </select> -->
                                </td>
                                <!--Ghi chú bán hàng-->
                                <td>
                                    <div ng-if="!gridItem.IsEditNoteType">
                                        <!-- {{gridItem.NoteType}} -->Bán hàng 1
                                        <a class="btn btn-sm btn-primary" title="Cập nhật thông tin" ng-click="onOpenEditNoteType(gridItem)"><i class="fa-regular fa-pen"></i></a>
                                    </div>
                                    <div ng-if="gridItem.IsEditNoteType">
                                        <textarea type="text" ng-init="gridItem.InputNoteType = gridItem.NoteType" ng-model="gridItem.InputNoteType" class="form-control mb-2"
                                                  data-inputmask="'alias': 'numeric', 'groupSeparator': ',', 'autoGroup': true, 'digits': 0, 'digitsOptional': false, 'suffix': '', 'placeholder': '0'">
                                        </textarea>
                                        <input type="button" value="Lưu" class="btn btn-sm btn-primary w-100" ng-click="onUpdateNoteType(gridItem); $event.preventDefault(); $event.stopPropagation();">
                                    </div>
                                </td>
                                <!--Ghi chú triển khai-->
                                <td>
                                    <div ng-if="!gridItem.IsEditBusinessDescription">
                                        <!-- {{gridItem.BusinessDescription}} -->Kinh doanh 1
                                        <a class="btn btn-sm btn-primary" title="Cập nhật thông tin" ng-click="onOpenEditBusinessDescription(gridItem)"><i class="fa-regular fa-pen"></i></a>
                                    </div>
                                    <div ng-if="gridItem.IsEditBusinessDescription">
                                        <textarea type="text" ng-init="gridItem.InputBusinessDescription = gridItem.BusinessDescription" ng-model="gridItem.InputBusinessDescription" class="form-control mb-2"
                                                  data-inputmask="'alias': 'numeric', 'groupSeparator': ',', 'autoGroup': true, 'digits': 0, 'digitsOptional': false, 'suffix': '', 'placeholder': '0'">
                                        </textarea>
                                        <input type="button" value="Lưu" class="btn btn-sm btn-primary w-100" ng-click="onUpdateBusinessDescription(gridItem); $event.preventDefault(); $event.stopPropagation();">
                                    </div>
                                </td>

                                <!--Kết quả triển khai-->
                                <td>
                                    <div class="text-left">
                                        <!-- <select ng-change="onResultBusinessChanged(gridItem)" class="form-control mb-0" ng-model="gridItem.ResultBusinessId">
                                            <option ng-repeat="i in lstResultBusiness" value="{{i.Id}}">
                                                {{i.Name}}
                                            </option>
                                        </select> -->
                                    </div>
                                </td>


                                <!--Tiền thanh toán-->
                                <td>
                                    <div style="width: 150px" class="form-inline">
                                        <div style="text-align: right">
                                            <input ng-init="gridItem.InputPaidDate = gridItem.PaidDate != null ? (gridItem.PaidDate | appDate) : ''" style="display:none; width: 42px" type="text" ng-model="gridItem.InputPaidDate" />
                                        </div>
                                        <div class="input-group mb-2">
                                            <input type="text" ng-init="gridItem.InputPaidMoney = (gridItem.PaidMoney | number : 0)" ng-model="gridItem.InputPaidMoney" class="form-control" oninput="paidMoneyInputmask(this);"
                                                   data-inputmask="'alias': 'numeric', 'groupSeparator': ',', 'autoGroup': true, 'digits': 0, 'digitsOptional': false, 'suffix': '', 'placeholder': '0'" />
                                            <span class="input-group-btn">
                                                <button class="btn btn-primary" ng-click="onDateCheckClick(gridItem); $event.preventDefault(); $event.stopPropagation();"><i class="fa-regular fa-calendar-days"></i></button>

                                            </span>
                                        </div>
                                        <input type="button" value="Lưu" class="btn btn-sm btn-primary w-100" (click)="drugStoreCode='0010'" data-toggle="modal" data-target="#confirm-payment-zns-dialog">
                                    </div>
                                </td>
                                <!--Tổng tiền-->
                                <td>
                                    <div class="text-right">
                                        <!-- {{gridItem.PaymentAmount | number:0}} -->1.000.000
                                    </div>
                                </td>
                                <!--Trạng thái thanh toán-->
                                <td>
                                    <div>
                                        <input type="checkbox" class=" form-check-input" ng-checked="gridItem.PaidMoney > 0" onclick="this.checked = !this.checked;" title="" />
                                    </div>
                                </td>
                                <!--Trạng thái gửi tin TT-->
                                <td>
                                    <div>
                                        <!-- {{gridItem.TxtStatusMessageConfirmPayment_ZNS}} -->
                                        Đã gửi
                                    </div>
                                </td>
                                <!--Kết quả gửi tin-->
                                <td>
                                    <div>
                                        <!-- {{gridItem.ResultSendZNSTxt}} -->
                                        Gửi thành công
                                    </div>
                                </td>
                                <!--Ngày thanh toán-->
                                <td>
                                    <div class="text-left">
                                        <!-- {{gridItem.PaidDate != null ? (gridItem.PaidDate | appDate) : ''}} --> 20/02/2024
                                    </div>
                                </td>
                                <!--Tổng pn/px-->
                                <td>
                                    <div>
                                        <!-- {{gridItem.TotalReceiptNote | number:0}}<br /> {{gridItem.TotalDeliveryNote | number:0}} -->
                                        10<br/>15
                                    </div>
                                </td>
                                <!--Actions-->
                                <td>
                                    <div ng-if="gridItem.IsActivated" class="baocao-actions baocao-actions-row">
                                        <div class="baocao-actions-item">
                                            <a href="/" class="btn btn-sm btn-primary">
                                                <i class="fa-regular fa-pen-to-square"></i>
                                            </a>
                                            <a href="#" class="btn btn-sm btn-danger" ng-click="onDelete(gridItem); $event.preventDefault(); $event.stopPropagation();" *ngIf="permittedFields.Delete_Store">
                                                <i class="fa-regular fa-trash"></i>
                                            </a>
                                        </div>
                                        <div class="baocao-actions-item">
                                            <a href="" class="btn btn-sm btn-primary" ng-click="onBusiness(gridItem); $event.preventDefault(); $event.stopPropagation();">
                                                Triển khai
                                            </a>
                                        </div>
                                    </div>
                                    <div ng-if="!gridItem.IsActivated">
                                        <a href="#" *ngIf="permittedFields.Delete_Store" class="btn btn-sm btn-primary" ng-click="onRestore(gridItem); $event.preventDefault(); $event.stopPropagation();">
                                            Khôi phục
                                        </a>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr id="footerId">
                                <td align="center"
                                    class="ng-scope" colspan="26">
                                    <div class="tr-ng-grid-footer form-inline">
                                        <div ng-switch-when="true" class="ng-scope">
                                            <div ng-transclude=""><span class="form-group pull-left page-size ng-scope">
                                                    <select id="ddlPageSize"
                                                        class="form-control ng-pristine ng-untouched ng-valid"
                                                        ng-model="model.pageSize"
                                                        ng-options="item.pageSizeKey as item.pageSizeValue for item in pageSizeList"
                                                        ng-change="changePageSize()">
                                                        <option label="10" value="number:10" selected="selected">10</option>
                                                        <option label="20" value="number:20">20</option>
                                                        <option label="50" value="number:50">50</option>
                                                        <option label="100" value="number:100">100</option>
                                                        <option label="--All--" value="number:9000">--All--</option>
                                                    </select>
                                                    <span class="page-size-label">&nbsp;&nbsp;Dòng / Trang</span>
                                                </span><span class="pull-right form-group" tr-ng-grid-pager=""
                                                    style="height:40px;">
                                                    <ul class="pagination">
                                                        <li class="ng-scope active">
                                                            <a href="" ng-click="navigateToPage(pageIndex)"
                                                                ng-if="pageIndex!==null"
                                                                class="ng-binding ng-scope" title="Trang">1</a>
                                                            </li>
                                                            <li ng-if="pageSelectionActive" class="ng-scope"><a href=""
                                                                    class="ng-binding ng-scope" title="Trang">2</a> </li>
                                                            <li class="disabled" style="white-space: nowrap;"> <span
                                                                    ng-hide="totalItemsCount || !displayTotalItemsCount"
                                                                    class="ng-binding ng-hide">Không có dữ liệu</span> <span
                                                                    ng-show="totalItemsCount &amp;&amp; displayTotalItemsCount"
                                                                    class=""> <span class="ng-binding">Tổng: 2 bản ghi</span>
                                                                </span> </li>
                                                        </ul>
                                                    </span></div>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </tfoot>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- <confirm-payment-zns-dialog [drugStoreCode]="drugStoreCode"></confirm-payment-zns-dialog> -->